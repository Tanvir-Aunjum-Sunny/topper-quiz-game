try{window.FB&&!window.FB.__buffer||function(window,fb_fif_window){var apply=Function.prototype.apply;function bindContext(e,t){return function(){return apply.call(e,t,arguments)}}for(var global={__type:"JS_SDK_SANDBOX",window:window,document:window.document},sandboxWhitelist=["setTimeout","setInterval","clearTimeout","clearInterval"],i=0;i<sandboxWhitelist.length;i++)global[sandboxWhitelist[i]]=bindContext(window[sandboxWhitelist[i]],window);(function(){var self=window,__DEV__=0;function emptyFunction(){}var __transform_includes={},__annotator,__bodyWrapper,__buffer=window.FB&&window.FB.__buffer,__w,__t,undefined,g,a,b,c,d,f;with(this){var require,__d;a={},b=function(e,t){if(!e&&!t)return null;var n={};return void 0!==e&&(n.type=e),void 0!==t&&(n.signature=t),n},c=function(e,t){return b(e&&/^[A-Z]/.test(e)?e:void 0,t&&(t.params&&t.params.length||t.returns)?"function("+(t.params?t.params.map(function(e){return/\?/.test(e)?"?"+e.replace("?",""):e}).join(","):"")+")"+(t.returns?":"+t.returns:""):void 0)},d=function(e){return e},f=function(e,t,n){return n.apply(e,t)},g=function(e,t,n,r,s){return s&&(s.callId||(s.callId=s.module+":"+(s.line||0)+":"+(s.column||0)),r=s.callId,a[r]=(a[r]||0)+1),n.apply(e,t)},void 0===__transform_includes?(__annotator=d,__bodyWrapper=f):(__annotator=function(e,t,n){return"sourcemeta"in __transform_includes&&(e.__SMmeta=t),"typechecks"in __transform_includes&&(t=c(t?t.name:void 0,n))&&__w(e,t),e},"codeusage"in __transform_includes?(__annotator=d,(__bodyWrapper=g).getCodeUsage=function(){return a},__bodyWrapper.clearCodeUsage=function(){a={}}):__bodyWrapper=f),__t=function(e){return e[0]},__w=function(e){return e},function(e){var t={},n={},r=["global","require","requireDynamic","requireLazy","module","exports"];require=function(r,a){if(Object.prototype.hasOwnProperty.call(n,r))return n[r];if(!Object.prototype.hasOwnProperty.call(t,r)){if(a)return null;throw new Error("Module "+r+" has not been defined")}for(var s,o=(a=t[r]).deps,i=a.factory.length,l=[],c=0;c<i;c++){switch(o[c]){case"module":s=a;break;case"exports":s=a.exports;break;case"global":s=e;break;case"require":s=require;break;case"requireDynamic":case"requireLazy":s=null;break;default:s=require.call(null,o[c])}l.push(s)}return a.factory.apply(e,l),n[r]=a.exports,a.exports},__d=function(e,a,s,o){"function"==typeof s?(t[e]={factory:s,deps:r.concat(a),exports:{}},3===o&&require.call(null,e)):n[e]=s},e.$RefreshReg$=function(){},e.$RefreshSig$=function(){return function(e){return e}}}(this),__d("ES5Array",[],function(e,t,n,r,a){(e={}).isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},a.exports=e},null),__d("ES5ArrayPrototype",[],function(e,t,n,r,a){var s={map:function(e,t){if("function"!=typeof e)throw new TypeError;var n,r=this.length,a=new Array(r);for(n=0;n<r;++n)n in this&&(a[n]=e.call(t,this[n],n,this));return a},forEach:function(e,t){s.map.call(this,e,t)},filter:function(e,t){if("function"!=typeof e)throw new TypeError;var n,r,a=this.length,s=[];for(n=0;n<a;++n)n in this&&(r=this[n],e.call(t,r,n,this)&&s.push(r));return s},every:function(e,t){if("function"!=typeof e)throw new TypeError;for(var n=new Object(this),r=n.length,a=0;a<r;a++)if(a in n&&!e.call(t,n[a],a,n))return!1;return!0},some:function(e,t){if("function"!=typeof e)throw new TypeError;for(var n=new Object(this),r=n.length,a=0;a<r;a++)if(a in n&&e.call(t,n[a],a,n))return!0;return!1},indexOf:function(e,t){var n=this.length;for((t|=0)<0&&(t+=n);t<n;t++)if(t in this&&this[t]===e)return t;return-1}};a.exports=s},null),__d("ES5Date",[],function(e,t,n,r,a){(e={}).now=function(){return(new Date).getTime()},a.exports=e},null),__d("ES5FunctionPrototype",[],function(e,t,n,r,a){(e={}).bind=function(e){if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var t=this,n=Array.prototype.slice.call(arguments,1);function r(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}return r.displayName="bound:"+(t.displayName||t.name||"(?)"),r.toString=function(){return"bound: "+t},r},a.exports=e},null),__d("ie8DontEnum",[],function(e,t,n,r,a){var s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"],o={}.hasOwnProperty;e=function(){},{toString:!0}.propertyIsEnumerable("toString")&&(e=function(e,t){for(var n=0;n<s.length;n++){var r=s[n];o.call(e,r)&&t(r)}}),a.exports=e},null),__d("ES5Object",["ie8DontEnum"],function(e,t,n,r,a){var s={}.hasOwnProperty;function o(){}(e={}).create=function(e){var t=typeof e;if("object"!=t&&"function"!=t)throw new TypeError("Object prototype may only be a Object or null");return o.prototype=e,new o},e.keys=function(e){var n=typeof e;if("object"!=n&&"function"!=n||null===e)throw new TypeError("Object.keys called on non-object");var r=[];for(var a in e)s.call(e,a)&&r.push(a);return t("ie8DontEnum")(e,function(e){return r.push(e)}),r},e.freeze=function(e){return e},e.isFrozen=function(){return!1},e.seal=function(e){return e},a.exports=e},null),__d("ES5StringPrototype",[],function(e,t,n,r,a){(e={}).trim=function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},e.startsWith=function(e){var t=String(this);if(null==this)throw new TypeError("String.prototype.startsWith called on null or undefined");var n=arguments.length>1?Number(arguments[1]):0;isNaN(n)&&(n=0);var r=Math.min(Math.max(n,0),t.length);return t.indexOf(String(e),n)==r},e.endsWith=function(e){var t=String(this);if(null==this)throw new TypeError("String.prototype.endsWith called on null or undefined");var n=t.length,r=String(e),a=arguments.length>1?Number(arguments[1]):n;isNaN(a)&&(a=0);var s=Math.min(Math.max(a,0),n),o=s-r.length;return!(o<0)&&t.lastIndexOf(r,o)==o},e.includes=function(e){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");var t=String(this),n=arguments.length>1?Number(arguments[1]):0;return isNaN(n)&&(n=0),-1!=t.indexOf(String(e),n)},e.contains=e.includes,e.repeat=function(e){if(null==this)throw new TypeError("String.prototype.repeat called on null or undefined");var t=String(this);if(e=e?Number(e):0,isNaN(e)&&(e=0),e<0||e===1/0)throw RangeError();if(1===e)return t;if(0===e)return"";for(var n="";e;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n},a.exports=e},null),__d("ES6Array",[],function(e,t,n,r,a){"use strict";e={from:function(e){if(null==e)throw new TypeError("Object is null or undefined");var t,n,r=arguments[1],a=arguments[2],s=this,o=Object(e),i="function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator",l="function"==typeof r,c="function"==typeof o[i],u=0;if(c){t="function"==typeof s?new s:[];for(var f,m=o[i]();!(f=m.next()).done;)n=f.value,l&&(n=r.call(a,n,u)),t[u]=n,u+=1;return t.length=u,t}var d=o.length;for((isNaN(d)||d<0)&&(d=0),t="function"==typeof s?new s(d):new Array(d);u<d;)n=o[u],l&&(n=r.call(a,n,u)),t[u]=n,u+=1;return t.length=u,t}},a.exports=e},null),__d("ES6ArrayPrototype",[],function(e,t,n,r,a){var s={find:function(e,t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");return-1===(e=s.findIndex.call(this,e,t))?void 0:this[e]},findIndex:function(e,t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=Object(this),r=n.length>>>0,a=0;a<r;a++)if(e.call(t,n[a],a,n))return a;return-1},fill:function(e){if(null==this)throw new TypeError("Array.prototype.fill called on null or undefined");for(var t=Object(this),n=t.length>>>0,r=arguments[1],a=r>>0,s=a<0?Math.max(n+a,0):Math.min(a,n),o=arguments[2],i=void 0===o?n:o>>0,l=i<0?Math.max(n+i,0):Math.min(i,n);s<l;)t[s]=e,s++;return t}};a.exports=s},null),__d("ES6DatePrototype",[],function(e,t,n,r,a){function s(e){return(e<10?"0":"")+e}e={toISOString:function(){if(!isFinite(this))throw new Error("Invalid time value");var e=this.getUTCFullYear();return(e=(e<0?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(0<=e&&e<=9999?-4:-6))+"-"+s(this.getUTCMonth()+1)+"-"+s(this.getUTCDate())+"T"+s(this.getUTCHours())+":"+s(this.getUTCMinutes())+":"+s(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}},a.exports=e},null),__d("ES6Number",[],function(e,t,n,r,a){e=Math.pow(2,-52),n=-1*(t=Math.pow(2,53)-1),r={isFinite:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return"number"==typeof e&&isFinite(e)}),isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return"number"==typeof e&&isNaN(e)}),isInteger:function(e){return this.isFinite(e)&&Math.floor(e)===e},isSafeInteger:function(e){return this.isFinite(e)&&e>=this.MIN_SAFE_INTEGER&&e<=this.MAX_SAFE_INTEGER&&Math.floor(e)===e},EPSILON:e,MAX_SAFE_INTEGER:t,MIN_SAFE_INTEGER:n},a.exports=r},null),__d("ES6Object",["ie8DontEnum"],function(e,t,n,r,a){var s={}.hasOwnProperty;e={assign:function(e){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");e=Object(e);for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++){var r=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];if(null!=r){for(var a in r=Object(r))s.call(r,a)&&(e[a]=r[a]);t("ie8DontEnum")(r,function(t){return e[t]=r[t]})}}return e},is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},a.exports=e},null),__d("ES7ArrayPrototype",["ES5Array","ES5ArrayPrototype"],function(e,t,n,r,a){var s=t("ES5Array").isArray,o=t("ES5ArrayPrototype").indexOf;function i(e){return Math.min(Math.max(l(e),0),Number.MAX_SAFE_INTEGER)}function l(e){return e=Number(e),isFinite(e)&&0!==e?c(e)*Math.floor(Math.abs(e)):e}function c(e){return e>=0?1:-1}e={includes:function(e){"use strict";if(void 0!==e&&s(this)&&("number"!=typeof e||!isNaN(e)))return-1!==o.apply(this,arguments);var t=Object(this),n=t.length?i(t.length):0;if(0===n)return!1;for(var r=arguments.length>1?l(arguments[1]):0,a=r<0?Math.max(n+r,0):r,c=isNaN(e)&&"number"==typeof e;a<n;){var u=t[a];if(u===e||"number"==typeof u&&c&&isNaN(u))return!0;a++}return!1}},a.exports=e},null),__d("ES7Object",["ie8DontEnum"],function(e,t,n,r,a){var s={}.hasOwnProperty;(e={}).entries=function(e){if(null==e)throw new TypeError("Object.entries called on non-object");var n=[];for(var r in e)s.call(e,r)&&n.push([r,e[r]]);return t("ie8DontEnum")(e,function(t){return n.push([t,e[t]])}),n},e.values=function(e){if(null==e)throw new TypeError("Object.values called on non-object");var n=[];for(var r in e)s.call(e,r)&&n.push(e[r]);return t("ie8DontEnum")(e,function(t){return n.push(e[t])}),n},a.exports=e},null),__d("ES7StringPrototype",[],function(e,t,n,r,a){(e={}).trimLeft=function(){return this.replace(/^\s+/,"")},e.trimRight=function(){return this.replace(/\s+$/,"")},a.exports=e},null),__d("json3-3.3.2",[],function(e,t,n,r,a){"use strict";var s,o={},i={exports:o};function l(){(function(){var t="function"==typeof s&&s.amd,n={function:!0,object:!0},r=n[typeof o]&&o&&!o.nodeType&&o,a=n[typeof window]&&window||this,l=r&&n[typeof i]&&i&&!i.nodeType&&"object"==typeof e&&e;function c(e,t){e||(e=a.Object()),t||(t=a.Object());var r=e.Number||a.Number,s=e.String||a.String,o=e.Object||a.Object,i=e.Date||a.Date,l=e.SyntaxError||a.SyntaxError,u=e.TypeError||a.TypeError,f=e.Math||a.Math;"object"==typeof(e=e.JSON||a.JSON)&&e&&(t.stringify=e.stringify,t.parse=e.parse);var m,d,g,p=(e=o.prototype).toString,h=new i(-0xc782b5b800cec);try{h=-109252==h.getUTCFullYear()&&0===h.getUTCMonth()&&1===h.getUTCDate()&&10==h.getUTCHours()&&37==h.getUTCMinutes()&&6==h.getUTCSeconds()&&708==h.getUTCMilliseconds()}catch(t){}function E(e){if(E[e]!==g)return E[e];var n;if("bug-string-char-index"==e)n="a"!="a"[0];else if("json"==e)n=E("json-stringify")&&E("json-parse");else{var a,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,c="function"==typeof l&&h;if(c){(a=function(){return 1}).toJSON=a;try{c="0"===l(0)&&"0"===l(new r)&&'""'==l(new s)&&l(p)===g&&l(g)===g&&l()===g&&"1"===l(a)&&"[1]"==l([a])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,p,null])&&l({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===l(null,a)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new i(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new i(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new i(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new i(-1))}catch(t){c=!1}}n=c}if("json-parse"==e){if("function"==typeof(l=t.parse))try{if(0===l("0")&&!l(!1)){var u=5==(a=l(o)).a.length&&1===a.a[0];if(u){try{u=!l('"\t"')}catch(t){}if(u)try{u=1!==l("01")}catch(t){}if(u)try{u=1!==l("1.")}catch(t){}}}}catch(t){u=!1}n=u}}return E[e]=!!n}if(!E("json")){var _="[object Function]",S="[object Number]",A="[object String]",b="[object Array]",y=E("bug-string-char-index");if(!h)var v=f.floor,I=[0,31,59,90,120,151,181,212,243,273,304,334],T=function(e,t){return I[t]+365*(e-1970)+v((e-1969+(t=+(t>1)))/4)-v((e-1901+t)/100)+v((e-1601+t)/400)};if((m=e.hasOwnProperty)||(m=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=p?m=function(e){var t=this.__proto__;return e=e in(this.__proto__=null,this),this.__proto__=t,e}:(t=n.constructor,m=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),m.call(this,e)}),d=function(e,t){var r,a,s=0;for(r in(r=function(){this.valueOf=0}).prototype.valueOf=0,a=new r)m.call(a,r)&&s++;return a=null,s?d=2==s?function(e,t){var n,r={},a=p.call(e)==_;for(n in e)(!a||"prototype"!=n)&&!m.call(r,n)&&(r[n]=1)&&m.call(e,n)&&t(n)}:function(e,t){var n,r,a=p.call(e)==_;for(n in e)(!a||"prototype"!=n)&&m.call(e,n)&&!(r="constructor"===n)&&t(n);(r||m.call(e,n="constructor"))&&t(n)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],d=function(e,t){var r,s=p.call(e)==_,o=!s&&"function"!=typeof e.constructor&&n[typeof e.hasOwnProperty]&&e.hasOwnProperty||m;for(r in e)(!s||"prototype"!=r)&&o.call(e,r)&&t(r);for(s=a.length;r=a[--s];o.call(e,r)&&t(r));}),d(e,t)},!E("json-stringify")){var N={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},P=function(e,t){return("000000"+(t||0)).slice(-e)},C=function(e){for(var t='"',n=0,r=e.length,a=!y||r>10,s=a&&(y?e.split(""):e);n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=N[o];break;default:if(o<32){t+="\\u00"+P(2,o.toString(16));break}t+=a?s[n]:e.charAt(n)}}return t+'"'},O=function(e,t,n,r,a,s,o){var i,l,c,f,h,E,_,y,I,N;try{i=t[e]}catch(e){}if("object"==typeof i&&i)if("[object Date]"!=(l=p.call(i))||m.call(i,"toJSON"))"function"==typeof i.toJSON&&(l!=S&&l!=A&&l!=b||m.call(i,"toJSON"))&&(i=i.toJSON(e));else if(i>-1/0&&i<1/0){if(T){for(h=v(i/864e5),c=v(h/365.2425)+1970-1;T(c+1,0)<=h;c++);for(f=v((h-T(c,0))/30.42);T(c,f+1)<=h;f++);h=1+h-T(c,f),_=v((E=(i%864e5+864e5)%864e5)/36e5)%24,y=v(E/6e4)%60,I=v(E/1e3)%60,E%=1e3}else c=i.getUTCFullYear(),f=i.getUTCMonth(),h=i.getUTCDate(),_=i.getUTCHours(),y=i.getUTCMinutes(),I=i.getUTCSeconds(),E=i.getUTCMilliseconds();i=(c<=0||c>=1e4?(c<0?"-":"+")+P(6,c<0?-c:c):P(4,c))+"-"+P(2,f+1)+"-"+P(2,h)+"T"+P(2,_)+":"+P(2,y)+":"+P(2,I)+"."+P(3,E)+"Z"}else i=null;if(n&&(i=n.call(t,e,i)),null===i)return"null";if("[object Boolean]"==(l=p.call(i)))return""+i;if(l==S)return i>-1/0&&i<1/0?""+i:"null";if(l==A)return C(""+i);if("object"==typeof i){for(c=o.length;c--;)if(o[c]===i)throw u();if(o.push(i),N=[],f=s,s+=a,l==b){for(h=0,c=i.length;h<c;h++)_=O(h,i,n,r,a,s,o),N.push(_===g?"null":_);y=N.length?a?"[\n"+s+N.join(",\n"+s)+"\n"+f+"]":"["+N.join(",")+"]":"[]"}else d(r||i,function(e){var t=O(e,i,n,r,a,s,o);t!==g&&N.push(C(e)+":"+(a?" ":"")+t)}),y=N.length?a?"{\n"+s+N.join(",\n"+s)+"\n"+f+"}":"{"+N.join(",")+"}":"{}";return o.pop(),y}};t.stringify=function(e,t,r){var a,s,o,i;if(n[typeof t]&&t)if((i=p.call(t))==_)s=t;else if(i==b){o={};for(var l,c=0,u=t.length;c<u;l=t[c++],((i=p.call(l))==A||i==S)&&(o[l]=1));}if(r)if((i=p.call(r))==S){if((r-=r%1)>0)for(a="",r>10&&(r=10);a.length<r;a+=" ");}else i==A&&(a=r.length<=10?r:r.slice(0,10));return O("",((l={})[""]=e,l),s,o,a,"",[])}}if(!E("json-parse")){var R,D,w=s.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},L=function(){throw R=D=null,l()},$=function(){for(var e,t,n,r,a,s=D,o=s.length;R<o;)switch(a=s.charCodeAt(R)){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=y?s.charAt(R):s[R],R++,e;case 34:for(e="@",R++;R<o;)if((a=s.charCodeAt(R))<32)L();else if(92==a)switch(a=s.charCodeAt(++R)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[a],R++;break;case 117:for(t=++R,n=R+4;R<n;R++)(a=s.charCodeAt(R))>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70||L();e+=w("0x"+s.slice(t,R));break;default:L()}else{if(34==a)break;for(a=s.charCodeAt(R),t=R;a>=32&&92!=a&&34!=a;)a=s.charCodeAt(++R);e+=s.slice(t,R)}if(34==s.charCodeAt(R))return R++,e;L();default:if(t=R,45==a&&(r=!0,a=s.charCodeAt(++R)),a>=48&&a<=57){for(48==a&&(a=s.charCodeAt(R+1))>=48&&a<=57&&L(),r=!1;R<o&&(a=s.charCodeAt(R))>=48&&a<=57;R++);if(46==s.charCodeAt(R)){for(n=++R;n<o&&(a=s.charCodeAt(n))>=48&&a<=57;n++);n==R&&L(),R=n}if(101==(a=s.charCodeAt(R))||69==a){for((43==(a=s.charCodeAt(++R))||45==a)&&R++,n=R;n<o&&(a=s.charCodeAt(n))>=48&&a<=57;n++);n==R&&L(),R=n}return+s.slice(t,R)}if(r&&L(),"true"==s.slice(R,R+4))return R+=4,!0;if("false"==s.slice(R,R+5))return R+=5,!1;if("null"==s.slice(R,R+4))return R+=4,null;L()}return"$"},x=function(e){var t,n;if("$"==e&&L(),"string"==typeof e){if("@"==(y?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=$());n||(n=!0))n&&(","==e?"]"==(e=$())&&L():L()),","==e&&L(),t.push(x(e));return t}if("{"==e){for(t={};"}"!=(e=$());n||(n=!0))n&&(","==e?"}"==(e=$())&&L():L()),(","==e||"string"!=typeof e||"@"!=(y?e.charAt(0):e[0])||":"!=$())&&L(),t[e.slice(1)]=x($());return t}L()}return e},G=function(e,t,n){(n=U(e,t,n))===g?delete e[t]:e[t]=n},U=function(e,t,n){var r,a=e[t];if("object"==typeof a&&a)if(p.call(a)==b)for(r=a.length;r--;)G(a,r,n);else d(a,function(e){G(a,e,n)});return n.call(e,t,a)};t.parse=function(e,t){var n;return R=0,D=""+e,e=x($()),"$"!=$()&&L(),R=D=null,t&&p.call(t)==_?U(((n={})[""]=e,n),"",t):e}}}return t.runInContext=c,t}if(l&&(l.global===l||l.window===l||l.self===l)&&(a=l),r&&!t)c(a,r);else{var u=a.JSON,f=a.JSON3,m=!1,d=c(a,a.JSON3={noConflict:function(){return m||(m=!0,a.JSON=u,a.JSON3=f,u=f=null),d}});a.JSON={parse:d.parse,stringify:d.stringify}}t&&s(function(){return d})}).call(this)}var c=!1;a.exports=function(e){switch(e){case void 0:return c||(c=!0,l()),i.exports}}},null),__d("json3",["json3-3.3.2"],function(e,t,n,r,a){a.exports=t("json3-3.3.2")()},null),__d("ES",["ES5Array","ES5ArrayPrototype","ES5Date","ES5FunctionPrototype","ES5Object","ES5StringPrototype","ES6Array","ES6ArrayPrototype","ES6DatePrototype","ES6Number","ES6Object","ES7ArrayPrototype","ES7Object","ES7StringPrototype","json3"],function(e,t,n,r,a,s){var o={}.toString,i={"JSON.stringify":t("json3").stringify,"JSON.parse":t("json3").parse};function e(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t],r=t.split(".");if(2===r.length){var a=r[0],s=r[1];if(!(a&&s&&window[a]&&window[a][s])){var o=a?window[a]:"-",l=a&&window[a]&&s?window[a][s]:"-";throw new Error("Unexpected state (t11975770): "+a+", "+s+", "+o+", "+l+", "+t)}}for(var c in a=2===r.length?window[r[0]][r[1]]:window[t],n)Object.prototype.hasOwnProperty.call(n,c)&&("function"==typeof n[c]?(s=a[c],i[t+"."+c]=s&&/\{\s+\[native code\]\s\}/.test(s)?s:n[c]):i[t+"."+c]=n[c])}}r={"Array.prototype":t("ES5ArrayPrototype"),"Function.prototype":t("ES5FunctionPrototype"),"String.prototype":t("ES5StringPrototype"),Object:t("ES5Object"),Array:t("ES5Array"),Date:t("ES5Date")},s={Object:t("ES6Object"),"Array.prototype":t("ES6ArrayPrototype"),"Date.prototype":t("ES6DatePrototype"),Number:t("ES6Number"),Array:t("ES6Array")},t={Object:t("ES7Object"),"String.prototype":t("ES7StringPrototype"),"Array.prototype":t("ES7ArrayPrototype")},e(r),e(s),e(t),a.exports=function(e,t,n){var r=n?o.call(e).slice(8,-1)+".prototype":e,a=i[r+"."+t]||e[t];if("function"==typeof a){for(var s=arguments.length,l=new Array(s>3?s-3:0),c=3;c<s;c++)l[c-3]=arguments[c];return a.apply(e,l)}if(a)return a;throw new Error("Polyfill "+r+" does not have implementation of "+t)}},null),__d("sdk.babelHelpers",["ES5FunctionPrototype","ES5Object","ES6Object"],function(e,t,n,r,a){var s={},o=Object.prototype.hasOwnProperty;s.inheritsLoose=function(e,n){return t("ES6Object").assign(e,n),e.prototype=t("ES5Object").create(n&&n.prototype),e.prototype.constructor=e,e.__superConstructor__=n,n},s.inherits=s.inheritsLoose,s.wrapNativeSuper=function(e){var t="function"==typeof Map?new Map:void 0;return s.wrapNativeSuper=function(e){if(null===e)return null;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){e.apply(this,arguments)}return s.inheritsLoose(n,e),n},s.wrapNativeSuper(e)},s.assertThisInitialized=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},s._extends=t("ES6Object").assign,s.extends=s._extends,s.construct=function(e,t){var n=[null];return n.push.apply(n,t),new(Function.prototype.bind.apply(e,n))},s.objectWithoutPropertiesLoose=function(e,t){var n={};for(var r in e)!o.call(e,r)||t.indexOf(r)>=0||(n[r]=e[r]);return n},s.objectWithoutProperties=s.objectWithoutPropertiesLoose,s.taggedTemplateLiteralLoose=function(e,t){return t||(t=e.slice(0)),e.raw=t,e},s.bind=t("ES5FunctionPrototype").bind,a.exports=s},null);var ES=require("ES"),babelHelpers=require("sdk.babelHelpers");(function(e){var t="keys",n="values",r="entries",a=function(){var e,a=o(Array);return a||(e=function(){"use strict";function e(e,t){this.$1=e,this.$2=t,this.$3=0}var a=e.prototype;return a.next=function(){if(null==this.$1)return{value:void 0,done:!0};var e=this.$1,a=this.$1.length,s=this.$3,o=this.$2;return s>=a?(this.$1=void 0,{value:void 0,done:!0}):(this.$3=s+1,o===t?{value:s,done:!1}:o===n?{value:e[s],done:!1}:o===r?{value:[s,e[s]],done:!1}:void 0)},a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this},e}()),{keys:a?function(e){return e.keys()}:function(n){return new e(n,t)},values:a?function(e){return e.values()}:function(t){return new e(t,n)},entries:a?function(e){return e.entries()}:function(t){return new e(t,r)}}}(),s=function(){var e,t=o(String);return t||(e=function(){"use strict";function e(e){this.$1=e,this.$2=0}var t=e.prototype;return t.next=function(){if(null==this.$1)return{value:void 0,done:!0};var e=this.$2,t=this.$1,n=t.length;if(e>=n)return this.$1=void 0,{value:void 0,done:!0};var r=t.charCodeAt(e);return r=r<55296||r>56319||e+1===n?t[e]:(n=t.charCodeAt(e+1))<56320||n>57343?t[e]:t[e]+t[e+1],this.$2=e+r.length,{value:r,done:!1}},t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this},e}()),{keys:function(){throw TypeError("Strings default iterator doesn't implement keys.")},values:t?function(e){return e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]()}:function(t){return new e(t)},entries:function(){throw TypeError("Strings default iterator doesn't implement entries.")}}}();function o(e){return"function"==typeof e.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]&&"function"==typeof e.prototype.values&&"function"==typeof e.prototype.keys&&"function"==typeof e.prototype.entries}var i=function(){"use strict";function e(e,t){this.$1=e,this.$2=t,this.$3=ES("Object","keys",!1,e),this.$4=0}var a=e.prototype;return a.next=function(){var e=this.$3.length,a=this.$4,s=this.$2,o=this.$3[a];return a>=e?(this.$1=void 0,{value:void 0,done:!0}):(this.$4=a+1,s===t?{value:o,done:!1}:s===n?{value:this.$1[o],done:!1}:s===r?{value:[o,this.$1[o]],done:!1}:void 0)},a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this},e}(),l={keys:function(e){return new i(e,t)},values:function(e){return new i(e,n)},entries:function(e){return new i(e,r)}};function c(e,t){return"string"==typeof e?s[t||n](e):ES("Array","isArray",!1,e)?a[t||n](e):e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]?e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]():l[t||r](e)}ES("Object","assign",!1,c,{KIND_KEYS:t,KIND_VALUES:n,KIND_ENTRIES:r,keys:function(e){return c(e,t)},values:function(e){return c(e,n)},entries:function(e){return c(e,r)},generic:l.entries}),e.FB_enumerate=c})(void 0===global?this:global),function(e,t){var n=e.window||e;function r(e){var t=e?e.ownerDocument||e:document;return t=t.defaultView||n,!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}function a(e){if(null==(e=n[e]))return!0;if("function"!=typeof n.Symbol)return!0;var t=e.prototype;return null==e||"function"!=typeof e||"function"!=typeof t.clear||0!==(new e).size||"function"!=typeof t.keys||"function"!=typeof t.forEach}var s=e.FB_enumerate,o=function(){if(!a("Map"))return n.Map;var e="key",t="value",o="key+value",i="$map_",l="IE_HASH_",c=function(){"use strict";function n(e){if(!g(this))throw new TypeError("Wrong map object type.");var t;if(d(this),null!=e)for(e=s(e);!(t=e.next()).done;){if(!g(t.value))throw new TypeError("Expected iterable items to be pair objects.");this.set(t.value[0],t.value[1])}}var r=n.prototype;return r.clear=function(){d(this)},r.has=function(e){return!(null==(e=f(this,e))||!this._mapData[e])},r.set=function(e,t){var n=f(this,e);return null!=n&&this._mapData[n]?this._mapData[n][1]=t:(m(this,e,n=this._mapData.push([e,t])-1),this.size+=1),this},r.get=function(e){return null==(e=f(this,e))?void 0:this._mapData[e][1]},r.delete=function(e){var t=f(this,e);return!(null==t||!this._mapData[t]||(m(this,e,void 0),this._mapData[t]=void 0,this.size-=1,0))},r.entries=function(){return new u(this,o)},r.keys=function(){return new u(this,e)},r.values=function(){return new u(this,t)},r.forEach=function(e,t){if("function"!=typeof e)throw new TypeError("Callback must be callable.");e=ES(e,"bind",!0,t||void 0),t=this._mapData;for(var n=0;n<t.length;n++){var r=t[n];null!=r&&e(r[1],r[0],this)}},r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this.entries()},n}(),u=function(){"use strict";function n(n,r){if(!g(n)||!n._mapData)throw new TypeError("Object is not a map.");if(-1===ES([e,o,t],"indexOf",!0,r))throw new Error("Invalid iteration kind.");this._map=n,this._nextIndex=0,this._kind=r}var r=n.prototype;return r.next=function(){if(!this instanceof c)throw new TypeError("Expected to be called on a MapIterator.");var n=this._map,r=this._nextIndex,a=this._kind;if(null==n)return p(void 0,!0);for(n=n._mapData;r<n.length;){var s=n[r];if(r+=1,this._nextIndex=r,s){if(a===e)return p(s[0],!1);if(a===t)return p(s[1],!1);if(a)return p(s,!1)}}return this._map=void 0,p(void 0,!0)},r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this},n}();function f(e,t){if(g(t)){var n=S(t);return n?e._objectIndex[n]:void 0}return n=i+t,"string"==typeof t?e._stringIndex[n]:e._otherIndex[n]}function m(e,t,n){var r=null==n;if(g(t)){var a=S(t);a||(a=A(t)),r?delete e._objectIndex[a]:e._objectIndex[a]=n}else a=i+t,"string"==typeof t?r?delete e._stringIndex[a]:e._stringIndex[a]=n:r?delete e._otherIndex[a]:e._otherIndex[a]=n}function d(e){e._mapData=[],e._objectIndex={},e._stringIndex={},e._otherIndex={},e.size=0}function g(e){return null!=e&&("object"==typeof e||"function"==typeof e)}function p(e,t){return{value:e,done:t}}function h(e){return!c.__isES5||!Object.isExtensible||Object.isExtensible(e)}function E(e){var t;switch(e.nodeType){case 1:t=e.uniqueID;break;case 9:t=e.documentElement.uniqueID;break;default:return null}return t?l+t:null}c.__isES5=function(){try{return Object.defineProperty({},"__.$#x",{}),!0}catch(c){return!1}}();var _="f"+(Math.random()*(1<<30)).toString(16).replace(".","");function S(e){return e[_]?e[_]:!c.__isES5&&e.propertyIsEnumerable&&e.propertyIsEnumerable[_]?e.propertyIsEnumerable[_]:!c.__isES5&&r(e)&&E(e)?E(e):!c.__isES5&&e[_]?e[_]:void 0}var A=function(){var e=Object.prototype.propertyIsEnumerable,t=0;return function(n){if(h(n)){if(t+=1,c.__isES5)Object.defineProperty(n,_,{enumerable:!1,writable:!1,configurable:!1,value:t});else if(n.propertyIsEnumerable)n.propertyIsEnumerable=function(){return e.apply(this,arguments)},n.propertyIsEnumerable[_]=t;else{if(!r(n))throw new Error("Unable to set a non-enumerable property on object.");n[_]=t}return t}throw new Error("Non-extensible objects are not allowed as keys.")}}();return __annotator(c,{name:"Map"})}();t=function(){if(!a("Set"))return n.Set;var e=function(){"use strict";function e(e){if(null==this||"object"!=typeof this&&"function"!=typeof this)throw new TypeError("Wrong set object type.");var n;if(t(this),null!=e)for(e=s(e);!(n=e.next()).done;)this.add(n.value)}var n=e.prototype;return n.add=function(e){return this._map.set(e,e),this.size=this._map.size,this},n.clear=function(){t(this)},n.delete=function(e){return e=this._map.delete(e),this.size=this._map.size,e},n.entries=function(){return this._map.entries()},n.forEach=function(e){for(var t,n=arguments[1],r=this._map.keys();!(t=r.next()).done;)e.call(n,t.value,t.value,this)},n.has=function(e){return this._map.has(e)},n.values=function(){return this._map.values()},n.keys=function(){return this.values()},n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){return this.values()},e}();function t(e){e._map=new o,e.size=e._map.size}return __annotator(e,{name:"Set"})}(),e.Map=o,e.Set=t}(void 0===global?this:global),__d("cr:717822",[],function(e,t,n,r,a){a.exports=require("TimeSliceImpl")}),__d("cr:986633",[],function(e,t,n,r,a){a.exports=require("setTimeoutAcrossTransitionsBlue")}),__d("ImmediateImplementationExperiments",[],{prefer_message_channel:!0}),__d("PromiseUsePolyfillSetImmediateGK",[],{www_always_use_polyfill_setimmediate:!1}),__d("Env",[],function(e,t,n,r,a){t={ajaxpipe_token:null,compat_iframe_token:null,iframeKey:"",iframeTarget:"",iframeToken:"",isCQuick:!1,start:ES("Date","now",!1),nocatch:!1},e.Env&&ES("Object","assign",!1,t,e.Env),e.Env=t,n=t,a.exports=n},null),__d("ErrorGuardState",[],function(e,t,n,r,a,s){"use strict";s.pushGuard=function(e){o.unshift(e)},s.popGuard=function(){o.shift()},s.inGuard=function(){return 0!==o.length},s.cloneGuardList=function(){return ES(o,"map",!0,function(e){return e.name})},s.findDeferredSource=function(){for(var e=0;e<o.length;e++){var t=o[e];if(null!=t.deferredSource)return t.deferredSource}};var o=[]},null),__d("ErrorMetadata",[],function(e,t,n,r,a){"use strict";var s=[];e=function(){function e(){this.metadata=[].concat(s)}var t=e.prototype;return t.addEntries=function(){var e;return(e=this.metadata).push.apply(e,arguments),this},t.addEntry=function(e,t,n){return this.metadata.push([e,t,n]),this},t.isEmpty=function(){return 0===this.metadata.length},t.clearEntries=function(){this.metadata=[]},t.format=function(){var e=[];return ES(this.metadata,"forEach",!0,function(t){t&&t.length&&(t=ES(t,"map",!0,function(e){return null!=e?String(e).replace(/:/g,"_"):""}).join(":"),e.push(t))}),e},t.getAll=function(){return this.metadata},e.addGlobalMetadata=function(e,t,n){s.push([e,t,n])},e.getGlobalMetadata=function(){return s},e.unsetGlobalMetadata=function(e,t){s=ES(s,"filter",!0,function(n){return!(ES("Array","isArray",!1,n)&&n[0]===e&&n[1]===t)})},e}(),a.exports=e},null),__d("ErrorSerializer",["ErrorMetadata"],function(e,t,n,r,a){"use strict";var s={debug:1,info:2,warn:3,error:4,fatal:5};function o(e){try{var t=d(e,/^([\s\S]*)<\!\[EX\[(\[.*\])\]\]>([\s\S]*)$/);if(!t)return m(e);var n=t[0],r=t[1];t=t[2];var a=(r=ES("JSON","parse",!1,r))[0];return r=r.slice(1),(a=m(a)).message=n+a.message+t,r&&r.length>0&&(a.params=ES(r,"map",!0,function(e){return String(e)})),a}catch(t){return{message:"Unable to parse error message %s because %s",params:[e,t.message]}}}function i(e){if(null==e.messageFormat)return o(e.message);var t={message:String(e.messageFormat)};return e.messageParams&&(t.params=[].concat(e.messageParams)),t.forcedKey=e.forcedKey,e.taalOpcodes&&(t.taalOpcodes=e.taalOpcodes),t}function l(e,t){var n=0;return e=e.replace(/%s/g,function(){return n<t.length?t[n++]:"NOPARAM"}),n<t.length&&(e+=" PARAMS"+ES("JSON","stringify",!1,t.slice(n))),e}function c(e){return[e.message+u(e)].concat(f(e.params))}function u(e){var t=e.taalOpcodes;e=e.forcedKey;var n=[];return t&&n.push.apply(n,t),e&&n.push("4"+e.replace(/[^\d\w]/g,"_")),n.length>0?" TAAL["+n.join(";")+"]":""}function f(e){return ES(null!=(e=e)?e:[],"map",!0,function(e){return String(e)})}function m(e){var t=(r=null!=(r=r=d(e,/^([\s\S]*) TAAL\[(.*)\]$/))?r:[e,null])[0];if(t={message:t},r=r[1]){var n=[],r=r.split(";"),a=ES("Array","isArray",!1,r),s=0;for(r=a?r:r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(a){if(s>=r.length)break;o=r[s++]}else{if((s=r.next()).done)break;o=s.value}if("1"===(o=o)||"2"===o||"3"===o)n.push(parseInt(o,10));else{if(!("4"===o[0]&&o.length>1))return{message:e};t.forcedKey=o.substring(1)}}n.length>0&&(t.taalOpcodes=n)}return t}function d(e,t){if("string"==typeof e&&(e=e.match(t))&&e.length>0)return e.slice(1)}a.exports=e.ErrorSerializer={aggregateError:function(e,n){var r=i(e);if(!ES("Object","isFrozen",!1,e)){n.type&&(!e.type||s[e.type]>s[n.type])&&(e.type=n.type);var a,o,l=n.metadata;null!=l&&((a=null!=(a=e.metadata)?a:new(t("ErrorMetadata"))).addEntries.apply(a,l.getAll()),e.metadata=a),null!=n.project&&(e.project=n.project),null!=n.errorName&&(e.errorName=n.errorName),null!=n.componentStack&&(e.componentStack=n.componentStack),null!=n.deferredSource&&(e.deferredSource=n.deferredSource),l=r.message,a=f(r.params),l!==n.messageFormat&&null!=n.messageFormat&&(l+=" [Caught in: "+n.messageFormat+"]",a.push.apply(a,null!=(o=n.messageParams)?o:[])),e.messageFormat=l,e.messageParams=a,o=n.forcedKey,l=r.forcedKey,n=null!=o&&null!=l?o+"_"+l:null!=(a=o)?a:l,e.forcedKey=n,null!=r.taalOpcodes&&(e.taalOpcodes=r.taalOpcodes)}},parseFromError:i,stringify:function(e){return"<![EX["+ES("JSON","stringify",!1,c(e))+"]]>"},toFormattedMessage:function(e){return l(e.message||"",f(e.params))+u(e)},toReadableMessage:l,toMessageWithParams:c,toStringParams:f}},3),__d("ErrorXFBDebug",[],function(e,t,n,r,a,s){"use strict";s.addFromXHR=function(e){var t=e.getAllResponseHeaders();null!=t&&ES(t,"indexOf",!0,"X-FB-Debug")>=0&&(t=e.getResponseHeader("X-FB-Debug"))&&l(t)},s.add=l,s.getAll=function(){return i};var o=5,i=[];function l(e){i.push(e),i.length>o&&i.shift()}},null),__d("TAALOpcodes",[],function(e,t,n,r,a,s){"use strict";s.PREVIOUS_FILE=1,s.PREVIOUS_FRAME=2,s.PREVIOUS_DIR=3,s.FORCED_KEY=4},null),__d("getSimpleHash",[],function(e,t,n,r,a){"use strict";a.exports=function(){for(var e=0,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;a++){var o=n[a];if(null!=o)for(var i=o.length,l=0;l<i;l++)e=(e<<5)-e+o.charCodeAt(l)}for(var c="",u=0;u<6;u++)c=s.charAt(31&e)+c,e>>=5;return c};var s="abcdefghijklmnopqrstuvwxyz012345"},null),__d("performance",[],function(e,t,n,r,a){"use strict";n=e.performance||e.msPerformance||e.webkitPerformance||{},a.exports=n},null),__d("performanceNow",["performance"],function(e,t,n,r,a,s){var o;if((o||(o=t("performance"))).now)n=function(){return(o||(o=t("performance"))).now()};else{r=e._cstart,s=ES("Date","now",!1);var i="number"==typeof r&&r<s?r:s,l=0;n=function(){var e=ES("Date","now",!1),t=e-i;return t<l&&(t=e-(i-=l-t)),l=t,t}}a.exports=n},null),__d("ErrorNormalizeUtils",["ErrorMetadata","ErrorSerializer","ErrorXFBDebug","TAALOpcodes","getSimpleHash","performanceNow"],function(e,t,n,r,a,s){"use strict";s.formatStackFrame=d,s.normalizeError=function n(r){var a,s,i,l,u=f(r),d=t("ErrorSerializer").parseFromError(r),g=r.framesToPop;if(null!=g)for(g=Math.min(g,u.length),d.taalOpcodes=null!=(l=d.taalOpcodes)?l:[];g-- >0;)d.taalOpcodes.unshift(t("TAALOpcodes").PREVIOUS_FRAME);l=d.message,g=ES(null!=(g=d.params)?g:[],"map",!0,function(e){return String(e)});var p=m(r.componentStack),h=null==p?null:ES(p,"map",!0,c),E=r.metadata?r.metadata.format():(new(t("ErrorMetadata"))).format();0===E.length&&(E=void 0);var _=ES(u,"map",!0,function(e){return e.text}).join("\n");a=null!=(a=r.errorName)?a:r.name;var S=r.type||"error",A=r.loggingSource,b=r.project;for(var y in s=null!=(s=r.lineNumber)?s:r.line,i=null!=(i=r.columnNumber)?i:r.column,h={blameModule:r.blameModule,column:null==i?null:String(i),clientTime:Math.floor(ES("Date","now",!1)/1e3),componentStackFrames:h,deferredSource:null!=r.deferredSource?n(r.deferredSource):null,extra:null!=(i=r.extra)?i:{},fbtrace_id:r.fbtrace_id,guardList:null!=(h=r.guardList)?h:[],hash:t("getSimpleHash")(a,_,S,b,A),isNormalizedError:!0,line:null==s?null:String(s),loggingSource:A,message:t("ErrorSerializer").toReadableMessage(l,g),messageFormat:l,messageParams:g,metadata:E,name:a,page_time:Math.floor((o||(o=t("performanceNow")))()),project:b,reactComponentStack:p,script:null!=(i=r.fileName)?i:r.sourceURL,serverHash:r.serverHash,stack:_,stackFrames:u,type:S,xFBDebug:t("ErrorXFBDebug").getAll()},null!=d.forcedKey&&(h.forcedKey=d.forcedKey),d.taalOpcodes&&(h.taalOpcodes=d.taalOpcodes),(s=e.location)&&(h.windowLocationURL=s.href),h)null==h[y]&&delete h[y];return h},s.ifNormalizedError=function(e){return null!=e&&"object"==typeof e&&!0===e.isNormalizedError?e:null};var o,i=[/\(([^\s\)\()]+):(\d+):(\d+)\)$/,/@([^\s\)\()]+):(\d+):(\d+)$/,/^([^\s\)\()]+):(\d+):(\d+)$/,/^at ([^\s\)\()]+):(\d+):(\d+)$/];function l(e){var t=e.name,n=e.message;if(null==(e=e.stack))return null;if(null!=t&&null!=n&&""!==n){var r=t+": "+n+"\n";if(ES(e,"startsWith",!0,r))return e.substr(r.length);if(e===t+": "+n)return null}return null!=t&&ES(e,"startsWith",!0,r=t+"\n")?e.substr(r.length):null!=n&&""!==n&&(r=ES(e,"indexOf",!0,t=": "+n+"\n"),n=e.substring(0,r),/^\w+$/.test(n))?e.substring(r+t.length):e}function c(e){var t,n,r,a;if(e=ES(e,"trim",!0),ES(e,"includes",!0,"charset=utf-8;base64,"))t="<inlined-file>";else{for(var s,o=0;o<i.length;o++){var l=i[o];if(null!=(s=e.match(l)))break}null!=s&&4===s.length?(n=s[1],r=parseInt(s[2],10),a=parseInt(s[3],10),t=e.substring(0,e.length-s[0].length)):t=e,t=ES(t.replace(/^at /,""),"trim",!0)}return(l={identifier:t,script:n,line:r,column:a}).text=d(l),l}function u(e){return null==e||""===e?[]:ES(e.split(/\n\n/)[0].split("\n"),"map",!0,c)}function f(e){return u(e=l(e))}function m(e){return null==e||""===e?null:((e=e.split("\n")).splice(0,1),ES(e,"map",!0,function(e){return ES(e,"trim",!0)}))}function d(e){var t=e.identifier,n=e.script,r=e.line;return e=e.column,t="    at "+(null!=(t=t)?t:"<unknown>"),null!=n&&null!=r&&null!=e&&(t+=" ("+n+":"+r+":"+e+")"),t}null!=Error.stackTraceLimit&&Error.stackTraceLimit<80&&(Error.stackTraceLimit=80)},null),__d("ErrorBrowserConsole",[],function(e,t,n,r,a,s){"use strict";s.errorListener=function(e){var t=i[e.type]?e.type:"error";("fatal"===e.type||"error"===t&&!o)&&(t=e.message,i.error("ErrorUtils caught an error:\n\n"+t+"\n\nSubsequent non-fatal errors won't be logged; see https://fburl.com/debugjs."),o=!0)};var o=!1,i=e.console},null),__d("err",["TAALOpcodes"],function(e,t,n,r,a){"use strict";a.exports=function(e){var n=new Error(e);if(void 0===n.stack)try{throw n}catch(e){}n.messageFormat=e;for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return n.messageParams=ES(a,"map",!0,function(e){return String(e)}),n.taalOpcodes=[t("TAALOpcodes").PREVIOUS_FRAME],n}},null),__d("getErrorSafe",["TAALOpcodes","err"],function(e,t,n,r,a){"use strict";a.exports=e.getErrorSafe=function(e){var n=null;return null==e||"object"!=typeof e?n=t("err")("Non-object thrown: %s",String(e)):"string"!=typeof e.message?n=t("err")("Non-error thrown: %s, keys: %s",String(e),ES("JSON","stringify",!1,ES("Object","keys",!1,e).sort())):Object.isExtensible&&!Object.isExtensible(e)&&(n=t("err")("Non-extensible thrown: %s",String(e.message))),null!=n?(n.taalOpcodes=n.taalOpcodes||[],n.taalOpcodes.push(t("TAALOpcodes").PREVIOUS_FRAME),n):e}},3),__d("ErrorGlobalEventHandler",["err","getErrorSafe"],function(e,t,n,r,a,s){"use strict";s.setup=function(t){"function"==typeof e.addEventListener&&null==o&&(o=t,e.addEventListener("error",l))};var o,i=void 0===window?"<self.onerror>":"<window.onerror>";function l(e){var n=null!=e.error?t("getErrorSafe")(e.error):t("err")(e.message||"");null==n.fileName&&null!=e.filename&&(n.fileName=e.filename),null==n.line&&null!=e.lineno&&(n.line=e.lineno),null==n.column&&null!=e.colno&&(n.column=e.colno),n.guardList=[i],n.loggingSource="ONERROR",ES(n.message,"indexOf",!0,"ResizeObserver")>=0&&(n.type="warn"),null==(e=o)||e.reportError(n)}},null),__d("ErrorUnhandledRejectionHandler",["ErrorNormalizeUtils","err","getErrorSafe"],function(e,t,n,r,a,s){"use strict";s.onunhandledrejection=l,s.setup=function(t){o=t,"function"==typeof e.addEventListener&&!i&&(i=!0,e.addEventListener("unhandledrejection",l))};var o=null,i=!1;function l(e){if(o){var n=e.reason;if(null==n||"object"!=typeof n||null!=n.name&&""!==n.name&&null!=n.message&&""!==n.message)r=t("ErrorNormalizeUtils").normalizeError(t("getErrorSafe")(n));else try{var r=t("err")("UnhandledRejection: %s",ES("JSON","stringify",!1,n));r=t("ErrorNormalizeUtils").normalizeError(r)}catch(e){var a=t("err")("UnhandledRejection: (circular) %s",ES("Object","keys",!1,n).join(","));r=t("ErrorNormalizeUtils").normalizeError(a)}r.loggingSource||(r.loggingSource="ONUNHANDLEDREJECTION"),o.reportNormalizedError(r),e.preventDefault()}}},null),__d("removeFromArray",[],function(e,t,n,r,a){a.exports=function(e,t){-1!==(t=ES(e,"indexOf",!0,t))&&e.splice(t,1)}},null),__d("ErrorPubSub",["ErrorBrowserConsole","ErrorGlobalEventHandler","ErrorGuardState","ErrorNormalizeUtils","ErrorUnhandledRejectionHandler","removeFromArray"],function(e,t,n,r,a){"use strict";var s,o=[],i=[],l=!1,c={history:i,addListener:function(e,t){void 0===t&&(t=!1),o.push(e),t||ES(i,"forEach",!0,function(t){return e(t,null!=(t=t.loggingSource)?t:"DEPRECATED")})},unshiftListener:function(e){o.unshift(e)},removeListener:function(e){t("removeFromArray")(o,e)},reportError:function(e){e=t("ErrorNormalizeUtils").normalizeError(e),c.reportNormalizedError(e)},reportNormalizedError:function(e){if(l)return!1;var n=(s||(s=t("ErrorGuardState"))).cloneGuardList();for(e.componentStackFrames&&n.unshift("<global.react>"),n.length>0&&(e.guardList=n),null==e.deferredSource&&null!=(n=(s||(s=t("ErrorGuardState"))).findDeferredSource())&&(e.deferredSource=t("ErrorNormalizeUtils").normalizeError(n)),i.length>50&&i.splice(25,1),i.push(e),l=!0,n=0;n<o.length;n++)try{var r;o[n](e,null!=(r=e.loggingSource)?r:"DEPRECATED")}catch(e){}return l=!1,!0}};c.addListener(t("ErrorBrowserConsole").errorListener),t("ErrorGlobalEventHandler").setup(c),t("ErrorUnhandledRejectionHandler").setup(c),e=c,a.exports=e},3),__d("ErrorGuard",["Env","ErrorGuardState","ErrorNormalizeUtils","ErrorPubSub","ErrorSerializer","getErrorSafe"],function(e,t,n,r,a){"use strict";var s,o,i;t("getErrorSafe"),t("ErrorSerializer"),s||(s=t("ErrorGuardState")),t("ErrorNormalizeUtils"),o||(o=t("ErrorPubSub"));var l={applyWithGuard:function(e,n,r,a){if((s||(s=t("ErrorGuardState"))).pushGuard({name:(null==a?void 0:a.name)||(e.name?"func_name:"+e.name:null)||"<anonymous guard>",deferredSource:null==a?void 0:a.deferredSource}),(i||(i=t("Env"))).nocatch)try{return e.apply(n,r)}finally{(s||(s=t("ErrorGuardState"))).popGuard()}try{return Function.prototype.apply.call(e,n,r)}catch(i){var l=(n=null!=(n=a)?n:{}).deferredSource,c=n.onError;n=n.onNormalizedError;var u=t("getErrorSafe")(i);if(t("ErrorSerializer").aggregateError(u,{deferredSource:l,project:null!=(l=null==a?void 0:a.project)?l:"ErrorGuard",type:null!=(l=null==a?void 0:a.errorType)?l:"fatal"}),(a=t("ErrorNormalizeUtils").normalizeError(u)).loggingSource="GUARDED",null==u&&e)try{a.extra[e.toString().substring(0,100)]="function",null!=r&&r.length&&(a.extra[Array.from(r).toString().substring(0,100)]="args")}catch(e){}a.guardList=(s||(s=t("ErrorGuardState"))).cloneGuardList(),c&&c(u),n&&n(a),(o||(o=t("ErrorPubSub"))).reportNormalizedError(a)}finally{(s||(s=t("ErrorGuardState"))).popGuard()}},guard:function(e,t){function n(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return l.applyWithGuard(e,this,r,t)}return e.__SMmeta&&(n.__SMmeta=e.__SMmeta),n},inGuard:function(){return(s||(s=t("ErrorGuardState"))).inGuard()}};a.exports=e.ErrorGuard=l},3),__d("FBLogMessage",["ErrorMetadata","ErrorNormalizeUtils","ErrorPubSub","ErrorSerializer","TAALOpcodes"],function(e,t,n,r,a){"use strict";var s;e=function(){function e(e){this.project=e,this.events=[],this.metadata=new(t("ErrorMetadata")),this.taalOpcodes=[]}var n=e.prototype;return n.$1=function(n,r){for(var a,o=String(r),i=this.error,l=this.events,c=this.project,u=this.metadata,f=this.blameModule,m=this.forcedKey,d=arguments.length,g=new Array(d>2?d-2:0),p=2;p<d;p++)g[p-2]=arguments[p];if(this.normalizedError){var h={message:this.normalizedError.messageFormat+" [Caught in: "+o+"]",params:[].concat(this.normalizedError.messageParams,g),forcedKey:m};a=ES("Object","assign",!1,{},this.normalizedError,{message:t("ErrorSerializer").toFormattedMessage(h),messageFormat:h.message,messageParams:t("ErrorSerializer").toStringParams(h.params),project:c,type:n})}else if(i)this.taalOpcodes.length>0&&new e("fblogger").blameToPreviousFrame().blameToPreviousFrame().warn("Blame helpers do not work with catching"),t("ErrorSerializer").aggregateError(i,{messageFormat:o,messageParams:t("ErrorSerializer").toStringParams(g),errorName:i.name,forcedKey:m,project:c,type:n}),a=t("ErrorNormalizeUtils").normalizeError(i);else{var E=new Error(o);if(void 0===E.stack)try{throw E}catch(e){}E.messageFormat=o,E.messageParams=t("ErrorSerializer").toStringParams(g),E.blameModule=f,E.forcedKey=m,E.project=c,E.name="FBLogger",E.type=n,E.taalOpcodes=[t("TAALOpcodes").PREVIOUS_FRAME,t("TAALOpcodes").PREVIOUS_FRAME].concat(this.taalOpcodes),a=t("ErrorNormalizeUtils").normalizeError(E)}if(a.loggingSource="FBLOGGER",u.isEmpty()||(a.metadata=u.format()),l.length>0)if(null!=a.events){var _;(_=a.events).push.apply(_,l)}else a.events=l;(s||(s=t("ErrorPubSub"))).reportNormalizedError(a)},n.fatal=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["fatal",e].concat(n))},n.mustfix=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["error",e].concat(n))},n.warn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["warn",e].concat(n))},n.info=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["info",e].concat(n))},n.debug=function(){},n.catching=function(t){return t instanceof Error?this.error=t:new e("fblogger").blameToPreviousFrame().warn("Catching non-Error object is not supported"),this},n.catchingNormalizedError=function(e){return this.normalizedError=e,this},n.event=function(e){return this.events.push(e),this},n.blameToModule=function(e){return this.blameModule=e,this},n.blameToPreviousFile=function(){return this.taalOpcodes.push(t("TAALOpcodes").PREVIOUS_FILE),this},n.blameToPreviousFrame=function(){return this.taalOpcodes.push(t("TAALOpcodes").PREVIOUS_FRAME),this},n.blameToPreviousDirectory=function(){return this.taalOpcodes.push(t("TAALOpcodes").PREVIOUS_DIR),this},n.addToCategoryKey=function(e){return this.forcedKey=e,this},n.addMetadata=function(e,t,n){return this.metadata.addEntry(e,t,n),this},e}(),a.exports=e},null),__d("FBLogger",["ErrorMetadata","FBLogMessage"],function(e,t,n,r,a){"use strict";(e=function(e,n){var r=new(t("FBLogMessage"))(e);return null!=n?r.event(e+"."+n):r}).addGlobalMetadata=function(e,n,r){t("ErrorMetadata").addGlobalMetadata(e,n,r)},n=e,a.exports=n},null),__d("unrecoverableViolation",["ErrorSerializer","FBLogger","TAALOpcodes","err"],function(e,t,n,r,a){"use strict";a.exports=function(e,n,r){var a;throw r=(r=void 0===r?{}:r).error,n=t("FBLogger")(n),r?(a=r,n=n.catching(r),t("ErrorSerializer").aggregateError(r,{messageFormat:e})):((a=t("err")(e)).taalOpcodes=a.taalOpcodes||[],a.taalOpcodes.push(t("TAALOpcodes").PREVIOUS_FRAME),n=n.blameToPreviousFrame()),n.mustfix(e),a}},null),__d("CircularBuffer",["unrecoverableViolation"],function(e,t,n,r,a){e=function(){function e(e){if(e<=0)throw t("unrecoverableViolation")("Buffer size should be a positive integer","comet_infra");this.$1=e,this.$2=0,this.$3=[],this.$4=[]}var n=e.prototype;return n.write=function(e){var t=this;return this.$3.length<this.$1?this.$3.push(e):(this.$4.forEach(function(e){return e(t.$3[t.$2])}),this.$3[this.$2]=e,this.$2++,this.$2%=this.$1),this},n.onEvict=function(e){return this.$4.push(e),this},n.read=function(){return this.$3.slice(this.$2).concat(this.$3.slice(0,this.$2))},n.expand=function(e){if(e>this.$1){var t=this.read();this.$2=0,this.$3=t,this.$1=e}return this},n.dropFirst=function(e){if(e<=this.$1){var t=this.read();this.$2=0,t.splice(0,e),this.$3=t}return this},n.clear=function(){return this.$2=0,this.$3=[],this},n.currentSize=function(){return this.$3.length},e}(),a.exports=e},null),__d("IntervalTrackingBoundedBuffer",["CircularBuffer","ErrorPubSub"],function(e,t,n,r,a){"use strict";var s,o=5e3;e=function(){function e(e){var n=this;if(this.$6=0,null!=e){if(e<=0)throw new Error("Size for a buffer must be greater than zero.")}else e=o;this.$4=e,this.$1=new(t("CircularBuffer"))(e),this.$1.onEvict(function(){n.$6++}),this.$2=[],this.$3=1,this.$5=0}var n=e.prototype;return n.open=function(){var e,t=this,n=this.$3++,r=!1,a=this.$5,s={id:n,startIdx:a,hasOverflown:function(){return s.getOverflowSize()>0},getOverflowSize:function(){return null!=e?e:Math.max(t.$6-a,0)},close:function(){return r?[]:(r=!0,e=t.$6-a,t.$7(n))}};return this.$2.push(s),s},n.pushElement=function(e){return this.$2.length>0&&(this.$1.write(e),this.$5++),this},n.isActive=function(){return this.$2.length>0},n.$8=function(e){return Math.max(e-this.$6,0)},n.$7=function(e){for(var n,r,a,o,i=0;i<this.$2.length;i++){var l=this.$2[i],c=l.startIdx;(l=l.id)===e?(a=i,o=c):(null==r||c<r)&&(r=c),(null==n||c<n)&&(n=c)}return null==a||null==n||null==o?((s||(s=t("ErrorPubSub"))).reportError(new Error("messed up state inside IntervalTrackingBoundedBuffer")),[]):(this.$2.splice(a,1),l=this.$8(o),c=this.$1.read().slice(l),(i=this.$8(null==r?this.$5:r)-this.$8(n))>0&&(this.$1.dropFirst(i),this.$6+=i),c)},e}(),a.exports=e},null),__d("WorkerUtils",[],function(e,t,n,r,a,s){"use strict";s.isWorkerContext=function(){try{return"WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope}catch(e){return!1}}},null),__d("getReusableTimeSliceContinuation",[],function(e,t,n,r,a){"use strict";a.exports=function(e,t,n){var r=!1,a=e.getGuardedContinuation(n),s=function(t){a(function(){r||(a=e.getGuardedContinuation(n)),t()})};return s.last=function(e){var t=a;r=!0,a=function(e){e()},t(e)},s[t]={},s}},null),__d("sprintf",[],function(e,t,n,r,a){a.exports=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0;return e.replace(/%s/g,function(){return String(n[a++])})}},null),__d("invariant",["Env","TAALOpcodes","sprintf"],function(e,t,n,r,a){"use strict";var s;function o(e,n){var r="Minified invariant #"+e+"; %s";return n.length>0&&(r+=" Params: "+ES(n,"map",!0,function(){return"%s"}).join(", ")),{message:r,decoderLink:e=!0===(s||(s=t("Env"))).show_invariant_decoder?"visit "+i(e,n)+" to see the full message.":""}}function i(e,t){return e="https://www.internalfb.com/intern/invariant/"+e+"/",t.length>0&&(e+="?"+ES(t,"map",!0,function(e,t){return"args["+t+"]="+encodeURIComponent(String(e))}).join("&")),e}a.exports=function(e,n){if(!e){for(var r=n,a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];if("number"==typeof r){var l=o(r,s),c=l.message,u=l.decoderLink;r=c,s.unshift(u)}else if(void 0===r){r="Invariant: ";for(var f=0;f<s.length;f++)r+="%s,"}var m=new Error(r);throw m.name="Invariant Violation",m.messageFormat=r,m.messageParams=ES(s,"map",!0,function(e){return String(e)}),m.taalOpcodes=[t("TAALOpcodes").PREVIOUS_FRAME],m.stack,m}}},null),__d("performanceAbsoluteNow",["performance"],function(e,t,n,r,a){var s;if((s||(s=t("performance"))).now&&(s||(s=t("performance"))).timing&&(s||(s=t("performance"))).timing.navigationStart){var o=(s||(s=t("performance"))).timing.navigationStart;e=function(){return(s||(s=t("performance"))).now()+o}}else e=function(){return Date.now()};a.exports=e},null),__d("wrapFunction",[],function(e,t,n,r,a){a.exports=e;var s={};function e(e,t,n){var r=t in s?s[t](e,n):e;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}}e.setWrapper=function(e,t){s[t]=e}},null),__d("TimeSliceImpl",["invariant","Env","ErrorGuard","FBLogger","IntervalTrackingBoundedBuffer","WorkerUtils","getReusableTimeSliceContinuation","performanceAbsoluteNow","wrapFunction"],function(e,t,n,r,a,s,o){var i,l,c,u,f=[],m=[],d="key"+Math.random(),g=1,p=!1;null==(n=(i||(i=t("Env"))).timesliceBufferSize)&&(n=5e3);var h=new(t("IntervalTrackingBoundedBuffer"))(n),E=[],_=[],S=[];function A(){return b(E)}function b(e){return e.length>0?e[e.length-1]:null}function y(e,n){var r={};(l||(l=t("ErrorGuard"))).applyWithGuard(T,null,[e,n,r]),l.applyWithGuard(N,null,[e,n,r]),E.push(e),_.push(n),S.push(r)}function v(e,t,n){f.forEach(function(r){var a=r.onNewContextCreated(A(),t,n);e[r.getBeforeID()]=a})}function I(e,t,n){m.forEach(function(r){r.onAfterContextEnded(e,t[r.getBeforeID()],n[r.getBeforeID()],e.meta)})}function T(e,t,n){f.forEach(function(r){var a=r.onBeforeContextStarted(e,t[r.getBeforeID()],e.meta);n[r.getBeforeID()]=a})}function N(e,t,n){f.forEach(function(r){var a=r.onAfterContextStarted(e,t[r.getBeforeID()],n[r.getBeforeID()],e.meta);n[r.getBeforeID()]=a})}function P(){var e=A(),n=b(_),r=b(S);if(null==e||null==n||null==r)return t("FBLogger")("TimeSlice").mustfix("popped too many times off the timeslice stack"),void(p=!1);(l||(l=t("ErrorGuard"))).applyWithGuard(I,null,[e,n,r]),p=!e.isRoot,E.pop(),_.pop(),S.pop()}var C={PropagationType:{CONTINUATION:0,EXECUTION:1,ORPHAN:2},guard:function(e,n,r){var a;"function"==typeof e||o(0,3725),"string"==typeof n||o(0,3726);var s,f=O(r);if(e[d])return e;p&&(s=A());var m={},E=0,_=void 0;return a=null!=(a=(i||(i=t("Env"))).deferred_stack_trace_rate)?a:0,r&&r.registerCallStack&&a>0&&Math.random()<1/a&&(_=new Error("deferred execution source")),(r=function(){var r=(c||(c=t("performanceAbsoluteNow")))(),a=g++,o={contextID:a,name:n,isRoot:!p,executionNumber:E++,meta:f,absBeginTimeMs:r};if(y(o,m),null!=s){var i=!!f.isContinuation;s.isRoot?(o.indirectParentID=s.contextID,o.isEdgeContinuation=i):(o.indirectParentID=s.indirectParentID,o.isEdgeContinuation=!(!i||!s.isEdgeContinuation))}var d=(u||(u=t("WorkerUtils"))).isWorkerContext();p=!0;try{for(var S=arguments.length,b=new Array(S),v=0;v<S;v++)b[v]=arguments[v];return!o.isRoot||d?e.apply(this,b):(l||(l=t("ErrorGuard"))).applyWithGuard(e,this,b,{name:"TimeSlice"+(n?": "+n:""),deferredSource:_})}finally{var I=A();if(null==I)t("FBLogger")("TimeSlice").mustfix("timeslice stack misaligned, not logging the block"),p=!1;else{var T=I.isRoot,N=I.contextID,C=I.indirectParentID,O=I.isEdgeContinuation,R=(c||(c=t("performanceAbsoluteNow")))();if(I.absEndTimeMs=R,T&&null!=r){var D=babelHelpers.extends({begin:r,end:R,id:N,indirectParentID:C,representsExecution:!0,isEdgeContinuation:s&&O,guard:n},f,e.__SMmeta);h.pushElement(D)}P()}}})[d]={},(l||(l=t("ErrorGuard"))).applyWithGuard(v,null,[m,n,f]),r},copyGuardForWrapper:function(e,t){return e&&e[d]&&(t[d]=e[d]),t},getContext:function(){return A()},getGuardedContinuation:function(e){return C.guard(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)},e,{propagationType:C.PropagationType.CONTINUATION})},getReusableContinuation:function(e){return t("getReusableTimeSliceContinuation")(C,d,e)},getPlaceholderReusableContinuation:function(){var e=function(e){return e()};return e.last=e,e},getGuardNameStack:function(){return E.map(function(e){return e.name})},registerExecutionContextObserver:function(e){for(var t=!1,n=0;n<f.length;n++)if(f[n].getBeforeID()>e.getBeforeID()){f.splice(n,0,e),t=!0;break}for(t||f.push(e),n=0;n<m.length;n++)if(m[n].getAfterID()>e.getAfterID())return void m.splice(n,0,e);m.push(e)},catchUpOnDemandExecutionContextObservers:function(e){for(var t=0;t<E.length;t++){var n=E[t],r=_[t],a=S[t]||{};r=e.onBeforeContextStartedWhileEnabled(n,r[e.getBeforeID()],n.meta),a[e.getBeforeID()]=r,S[t]=a}},getBuffer:function(){return h}};function O(e){var t={};switch(e&&void 0!==e.propagateCounterAttribution&&(t.propagateCounterAttribution=e.propagateCounterAttribution),e&&void 0!==e.root&&(t.root=e.root),e&&e.propagationType){case C.PropagationType.CONTINUATION:t.isContinuation=!0,t.extendsExecution=!0;break;case C.PropagationType.ORPHAN:t.isContinuation=!1,t.extendsExecution=!1;break;case C.PropagationType.EXECUTION:default:t.isContinuation=!1,t.extendsExecution=!0}return t}t("wrapFunction").setWrapper(function(e,t){return C.guard(e,t,{registerCallStack:!0})},"entry"),e.TimeSlice=C,a.exports=C},6),__d("requireCond",[],function(e,t,n,r,a){a.exports=function(){throw new Error("Cannot use raw untransformed requireCond.")}},null),__d("TimeSlice",["requireCond","cr:717822"],function(e,t,n,r,a){e=t("cr:717822"),a.exports=e},null),__d("setTimeoutAcrossTransitionsBlue",["TimeSlice"],function(e,t,n,r,a){a.exports=function(n,r){for(var a=t("TimeSlice").guard(n,"setTimeout",{propagationType:t("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0}),o=arguments.length,i=new Array(o>2?o-2:0),l=2;l<o;l++)i[l-2]=arguments[l];return Function.prototype.apply.call(s,e,[a,r].concat(i))};var s=e.__fbNativeSetTimeout||e.setTimeout},null),__d("InstantGamesGameState",[],function(e,t,n,r,a,s){s.INITIAL="initial",s.LOADING="loading",s.READY="ready",s.PLAYING="playing",s.GAMEOVER="gameover"},null),__d("InstantGamesSDKMessages",[],function(e,t,n,r,a){e=ES("Object","freeze",!1,{AD_CLICK:"adclick",ANALYTICS_LOG_EVENT:"analyticslogevent",AVERAGE_FRAME_TIME:"averageframetime",CAMERA_LOAD_EFFECT_ASYNC:"cameraloadeffectasync",CAMERA_SHOW_EFFECT_ASYNC:"camerashoweffectasync",CAN_CREATE_SHORTCUT_ASYNC:"cancreateshortcutasync",CHANGE_CONTEXT_ASYNC:"changecontextasync",CONTEXT_ADD_PLAYER_ASYNC:"contextaddplayerasync",CONTEXT_CHOOSE_ASYNC:"contextchooseasync",CONTEXT_CREATE_ASYNC:"contextcreateasync",CONTEXT_MATCH_CREATE_ASYNC:"contextmatchcreateasync",CONTEXT_MATCH_DATA_FETCH_ASYNC:"contextmatchdatafetchasync",CONTEXT_MATCH_DATA_INC_ASYNC:"contextmatchdataincasync",CONTEXT_MATCH_DATA_SAVE_ASYNC:"contextmatchdatasaveasync",CONTEXT_MATCH_END_ASYNC:"contextmatchendasync",CONTEXT_MATCH_FETCH_ASYNC:"contextmatchfetchasync",CONTEXT_PLAYERS_FETCH_ASYNC:"contextplayersfetchasync",CONTEXT_SWITCH_ASYNC:"contextswitchasync",COPLAY_CLEAR_EFFECT_ASYNC:"coplaycleareffectasync",COPLAY_LOAD_EFFECT_ASYNC:"coplayloadeffectasync",COPLAY_SHOW_EFFECT_ASYNC:"coplayshoweffectasync",CREATE_SHORTCUT_ASYNC:"createshortcutasync",DVR_CLIP_REQUESTED:"dvrcliprequested",DVR_CLIP_RESULT:"dvrclipresult",FLUSH_PLAYER_DATA_ASYNC:"flushplayerdataasync",GAME_START:"gamestart",GAME_SWITCH:"gameswitch",GAME_TOS:"gametos",GAME_YIELD:"gameyield",GESTURE_COMMAND:"gesturecommand",GET_CONNECTED_PLAYERS_ASYNC:"getconnectedplayersasync",GET_INTERSTITIAL_AD_ASYNC:"getinterstitialadasync",GET_PLAYER_DATA_ASYNC:"getplayerdataasync",GET_REWARDED_VIDEO_ASYNC:"getrewardedvideoasync",GET_SIGNED_PLAYER_INFO_ASYNC:"getsignedplayerinfoasync",INITIALIZE_ASYNC:"initializeasync",INVENTORY_UNLOCK_ITEM_ASYNC:"inventoryunlockitemasync",LOAD_AD_ASYNC:"loadadasync",MATCH_PLAYER_ASYNC:"matchplayerasync",MEDIA_SEND_IMAGE_ASYNC:"mediasendimageasync",ON_BEGIN_LOAD:"onbeginload",ON_CONSOLE:"onconsole",ON_END_GAME:"onendgame",ON_FRAME_DROP:"onframedrop",ON_GAME_READY:"ongameready",ON_PICTURE:"onpicture",ON_PROGRESS_LOAD:"onprogressload",ON_SCORE:"onscore",ON_SCREENSHOT:"onscreenshot",PAUSE:"pause",PAYMENTS_CONSUME_PURCHASE_ASYNC:"paymentsconsumepurchaseasync",PAYMENTS_FETCH_CATALOG_ASYNC:"paymentsfetchcatalogasync",PAYMENTS_FETCH_PURCHASES_ASYNC:"paymentsfetchpurchasesasync",PAYMENTS_INITIALIZED:"paymentsinitialized",PAYMENTS_PURCHASE_ASYNC:"paymentspurchaseasync",PAYMENTS_RESTORE_PURCHASES_ASYNC:"paymentsrestorepurchasesasync",QUIT:"quit",REALTIME_RECEIVE_MESSAGE:"realtimereceivemessage",REALTIME_RECEIVE_STATE_UPDATE:"realtimereceivestateupdate",REALTIME_SEND_MESSAGE:"realtimesendmessage",REALTIME_SEND_STATE_UPDATE:"realtimesendstateupdate",REJECT_PROMISE:"rejectpromise",RESOLVE_PROMISE:"resolvepromise",RESTART:"restart",RESUME:"resume",SEND_PASS_THROUGH_ASYNC:"sendpassthroughasync",SET_PLAYER_DATA_ASYNC:"setplayerdataasync",SET_SESSION_DATA:"setsessiondata",SHARE_ASYNC:"shareasync",SHOW_AD_ASYNC:"showadasync",SHOW_GENERIC_DIALOG_ASYNC:"showgenericdialogasync",SHOW_GENERIC_DIALOG_ASYNC_IOS:"showgenericdialogasync-ios",SUBSCRIBE_BOT_ASYNC:"subscribebotasync"}),a.exports=e},null),__d("ImmediateImplementation",["ImmediateImplementationExperiments"],function(e,t,n,r,a,s){(function(e){"use strict";var n,r,a,o=1,i={},l={},c=l,u=!1,f=e.document,m="setImmediate$"+Math.random()+"$";function d(){var t=e.event;return!!t&&(t.isTrusted&&ES(["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"],"includes",!0,t.type)||"message"===t.type&&t.source===e&&"string"==typeof t.data&&0===ES(t.data,"indexOf",!0,m))}function g(e){var t=e[0];return e=Array.prototype.slice.call(e,1),i[o]=function(){t.apply(void 0,e)},(c=c.next={handle:o++}).handle}function p(){for(var e,t;!u&&(e=l.next);)if(l=e,t=i[e.handle]){u=!0;try{t(),u=!1}finally{h(e.handle),u&&(u=!1,l.next&&n(p))}}}function h(e){delete i[e]}function E(){var t=function(t){t.source===e&&"string"==typeof t.data&&0===ES(t.data,"indexOf",!0,m)&&p()};e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),r=n=function(){var t=g(arguments);return e.originalPostMessage?e.originalPostMessage(m+t,"*"):e.postMessage(m+t,"*"),t}}function _(){var e=new MessageChannel,t=!1;e.port1.onmessage=function(){t=!1,p()},a=n=function(){var n=g(arguments);return t||(e.port2.postMessage(n),t=!0),n}}!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=function n(){t=!1,e.removeEventListener?e.removeEventListener("message",n,!1):e.detachEvent("onmessage",n)};if(e.addEventListener)e.addEventListener("message",n,!1);else{if(!e.attachEvent)return!1;e.attachEvent("onmessage",n)}return e.postMessage("","*"),t}}()?e.MessageChannel?_():f&&f.createElement&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;n=function(){var t=g(arguments),n=f.createElement("script");return n.onreadystatechange=function(){n.onreadystatechange=null,e.removeChild(n),n=null,p()},e.appendChild(n),t}}():n=function(){return setTimeout(p,0),g(arguments)}:e.MessageChannel&&t("ImmediateImplementationExperiments").prefer_message_channel?(E(),_(),n=function(){return d()?r.apply(null,arguments):a.apply(null,arguments)}):E(),s.setImmediate=n,s.clearImmediate=h})(void 0===self?void 0===e?this:e:self)},null),__d("setImmediatePolyfill",["invariant","PromiseUsePolyfillSetImmediateGK","ImmediateImplementation"],function(e,t,n,r,a,s,o){var i=e.setImmediate;!t("PromiseUsePolyfillSetImmediateGK").www_always_use_polyfill_setimmediate&&i||(r=t("ImmediateImplementation"),i=r.setImmediate),a.exports=function(e){"function"==typeof e||o(0,5912);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.apply(void 0,[e].concat(n))}},null),__d("setImmediateAcrossTransitions",["TimeSlice","setImmediatePolyfill"],function(e,t,n,r,a){a.exports=function(e){for(var n=t("TimeSlice").guard(e,"setImmediate",{propagationType:t("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0}),r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return t("setImmediatePolyfill").apply(void 0,[n].concat(a))}},null),__d("setTimeoutAcrossTransitions",["requireCond","cr:986633"],function(e,t,n,r,a){e=t("cr:986633"),a.exports=e},null),__d("Promise",["TimeSlice","setImmediateAcrossTransitions","setTimeoutAcrossTransitions"],function(e,t,n,r,a){"use strict";function s(){}var o=null,i={};function l(e){try{return e.then}catch(e){return o=e,i}}function c(e,t){try{return e(t)}catch(e){return o=e,i}}function u(e,t,n){try{e(t,n)}catch(e){return o=e,i}}function f(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._value=null,this._deferreds=[],e!==s&&_(e,this)}function m(e,t,n){return new e.constructor(function(r,a){var o=new f(s);o.then(r,a),d(e,new E(t,n,o))})}function d(e,n){for(;3===e._state;)e=e._value;0!==e._state?t("setImmediateAcrossTransitions")(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null===t)return n.continuation(function(){}),void(1===e._state?g(n.promise,e._value):p(n.promise,e._value));(t=c(ES(n.continuation,"bind",!0,null,t),e._value))===i?p(n.promise,o):g(n.promise,t)}):e._deferreds.push(n)}function g(e,t){if(t===e)return p(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=l(t);if(n===i)return p(e,o);if(n===e.then&&t instanceof f)return e._state=3,e._value=t,void h(e);if("function"==typeof n)return void _(ES(n,"bind",!0,t),e)}e._state=1,e._value=t,h(e)}function p(e,t){e._state=2,e._value=t,h(e)}function h(e){for(var t=0;t<e._deferreds.length;t++)d(e,e._deferreds[t]);e._deferreds=null}function E(e,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.continuation=t("TimeSlice").getGuardedContinuation("Promise Handler"),this.promise=r}function _(e,t){var n=!1;e=u(e,function(e){n||(n=!0,g(t,e))},function(e){n||(n=!0,p(t,e))}),!n&&e===i&&(n=!0,p(t,o))}f._noop=s,f.prototype.then=function(e,t){if(this.constructor!==f)return m(this,e,t);var n=new f(s);return d(this,new E(e,t,n)),n},f.prototype.done=function(){var e=new Error("Promise.done"),n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(n){t("setTimeoutAcrossTransitions")(function(){throw n instanceof Error?n:(e.message=""+n,e)},0)})};var S=T(!0),A=T(!1),b=T(null),y=T(void 0),v=T(0),I=T("");function T(e){var t=new f(f._noop);return t._state=1,t._value=e,t}f.resolve=function(e){if(e instanceof f)return e;if(null===e)return b;if(void 0===e)return y;if(!0===e)return S;if(!1===e)return A;if(0===e)return v;if(""===e)return I;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new f(ES(t,"bind",!0,e))}catch(e){return new f(function(t,n){n(e)})}return T(e)},f.all=function(e){ES("Array","isArray",!1,e)||(e=[f.reject(new TypeError("Promise.all must be passed an array."))]);var t=Array.prototype.slice.call(e);return new f(function(e,n){if(0===t.length)return e([]);var r=t.length;function a(s,o){if(o&&("object"==typeof o||"function"==typeof o)){if(o instanceof f&&o.then===f.prototype.then){for(;3===o._state;)o=o._value;return 1===o._state?a(s,o._value):(2===o._state&&n(o._value),void o.then(function(e){a(s,e)},n))}var i=o.then;if("function"==typeof i)return void(i=new f(ES(i,"bind",!0,o))).then(function(e){a(s,e)},n)}t[s]=o,0==--r&&e(t)}for(var s=0;s<t.length;s++)a(s,t[s])})},f.allSettled=function(e){if(!ES("Array","isArray",!1,e))return f.reject(new TypeError("Promise.allSettled must be passed an array."));for(var t=Array(e.length),n=function(n,r){var a=e[n];r="object"==typeof a&&null!==a&&"function"==typeof a.then,t[n]=r?new f(function(e){a.then(function(t){e({status:"fulfilled",value:t})},function(t){e({status:"rejected",reason:t})})}):f.resolve({status:"fulfilled",value:a})},r=0,a=e.length;r<a;++r)n(r,a);return f.all(t)},f.reject=function(e){return new f(function(t,n){n(e)})},f.race=function(e){return new f(function(t,n){ES(e,"forEach",!0,function(e){f.resolve(e).then(t,n)})})},f.prototype.catch=function(e){return this.then(null,e)},f.prototype.finally=function(e){return this.then(function(t){return f.resolve(e()).then(function(){return t})},function(t){return f.resolve(e()).then(function(){throw t})})},a.exports=f},null),__d("fbinstant/common/appCapabilityFetcher",[],function(e,t,n,r,a){"use strict";t=new(function(){function e(){this.$1={}}return e.prototype.fetchAsync=function(e,t){var n=this;return null!=this.$1[t]?new Promise.resolve(this.$1[t]):e.sendPassThroughAsync("APP_CAPABILITY",{capability:t}).then(function(e){return n.$1[t]=e,new Promise.resolve(e)})},e}()),a.exports=t},null),__d("InstantGamesErrorCode",[],function(e,t,n,r,a){e=ES("Object","freeze",!1,{ADS_EXPIRED:"ADS_EXPIRED",ADS_FREQUENT_LOAD:"ADS_FREQUENT_LOAD",ADS_NO_FILL:"ADS_NO_FILL",ADS_NOT_LOADED:"ADS_NOT_LOADED",ADS_TOO_MANY_INSTANCES:"ADS_TOO_MANY_INSTANCES",ANALYTICS_POST_EXCEPTION:"ANALYTICS_POST_EXCEPTION",CLIENT_REQUIRES_UPDATE:"CLIENT_REQUIRES_UPDATE",CLIENT_UNSUPPORTED_OPERATION:"CLIENT_UNSUPPORTED_OPERATION",INVALID_OPERATION:"INVALID_OPERATION",INVALID_PARAM:"INVALID_PARAM",LEADERBOARD_NOT_FOUND:"LEADERBOARD_NOT_FOUND",LEADERBOARD_WRONG_CONTEXT:"LEADERBOARD_WRONG_CONTEXT",LIVE_MATCH_NOT_FOUND:"LIVE_MATCH_NOT_FOUND",NETWORK_FAILURE:"NETWORK_FAILURE",PAYMENTS_INVALID:"PAYMENTS_INVALID",PAYMENTS_NOT_ALLOWED:"PAYMENTS_NOT_ALLOWED",PAYMENTS_NOT_INITIALIZED:"PAYMENTS_NOT_INITIALIZED",PAYMENTS_PURCHASE_CREATION_FAILED:"PAYMENTS_PURCHASE_CREATION_FAILED",PAYMENTS_USER_CANCELLED:"PAYMENTS_USER_CANCELLED",PENDING_REQUEST:"PENDING_REQUEST",RATE_LIMITED:"RATE_LIMITED",ROOM_AR_DENIED_USER_EFFECT_IN_PLACE:"ROOM_AR_DENIED_USER_EFFECT_IN_PLACE",ROOM_AR_EFFECT_ALREADY_LOADED:"ROOM_AR_EFFECT_ALREADY_LOADED",ROOM_AR_EFFECT_NOT_FOUND:"ROOM_AR_EFFECT_NOT_FOUND",SAME_CONTEXT:"SAME_CONTEXT",TOURNAMENT_NOT_FOUND:"TOURNAMENT_NOT_FOUND",UNKNOWN:"UNKNOWN",USER_INPUT:"USER_INPUT"}),a.exports=e},null),__d("fbinstant/common/errorCode",["InstantGamesErrorCode"],function(e,t,n,r,a){"use strict";n=t("InstantGamesErrorCode"),a.exports=n},null),__d("fbinstant/common/platform",[],function(e,t,n,r,a){"use strict";e={IOS:"IOS",ANDROID:"ANDROID",WEB:"WEB",MOBILE_WEB:"MOBILE_WEB"},a.exports=e},null),__d("fbinstant/common/validator",["fbinstant/common/errorCode"],function(e,t,n,r,a){"use strict";var s=ES("Number","isInteger",!1)||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};e=function(){function e(){}var n=e.prototype;return n.validate=function(e,n){return n.validate(e).catch(function(e){throw{code:t("fbinstant/common/errorCode").INVALID_PARAM,message:e.message}})},n.object=function(){return new i},n.array=function(){return new l},n.string=function(){return new c},n.number=function(){return new u},n.integer=function(){return new f},n.boolean=function(){return new m},n.union=function(e){return new d(e)},e}();var o=function(){function e(){this.errors=[],this.isOptional=!1,this.type="Any"}var t=e.prototype;return t.validate=function(e){var t=this;return this.validator(e),new Promise(function(n,r){return t.errors.length>0?r(new Error(ES(t.errors,"map",!0,function(e){return e.message}).join("\n"))):n(e)})},t.validator=function(){},t.optional=function(){return this.isOptional=!0,this},t.addError=function(e,t){t?this.errors.push(new Error(t)):this.errors.push(new Error("Expected a value of type "+this.type+", received: "+String(e)))},t.getErrors=function(){return this.errors},t.getType=function(){return this.type},e}(),i=function(e){function t(){var t;return(t=e.call(this)||this).$ObjectSchema1={},t.$ObjectSchema2=null,t.$ObjectSchema3=null,t.type="Object",t}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.keys=function(e){return this.$ObjectSchema1=e,this},n.maxSize=function(e){return this.$ObjectSchema2=e,this},n.minSize=function(e){return this.$ObjectSchema3=e,this},n.validator=function(e){if(null!=e||!this.isOptional)for(var t in("object"!=typeof e||ES("Array","isArray",!1,e))&&this.addError(e),this.$ObjectSchema4(e),this.$ObjectSchema1){var n=e[t];if(!(o=this.$ObjectSchema1[t]).validator)return void this.addError(n,"Bad/missing validator for key: "+t);if(o.validator(n),(o=o.getErrors()).length>0){for(var r="For key "+t+": ",a=ES("Array","isArray",!1,o=o),s=0,o=a?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(s>=o.length)break;i=o[s++]}else{if((s=o.next()).done)break;i=s.value}r+="["+(i=i).message+"],"}this.addError(n,r)}}},n.$ObjectSchema4=function(e){(this.$ObjectSchema2||this.$ObjectSchema3)&&(e=ES("JSON","stringify",!1,e).length,this.$ObjectSchema2&&e>this.$ObjectSchema2&&this.errors.push(new Error("Object must be at most "+String(this.$ObjectSchema2)+" characters when stringified, was "+String(e))),this.$ObjectSchema3&&e<this.$ObjectSchema3&&this.errors.push(new Error("Object must be at least "+String(this.$ObjectSchema3)+" characters when stringified, was "+String(e))))},t}(o),l=function(e){function t(){var t;return(t=e.call(this)||this).$ArraySchema1=new o,t.$ArraySchema2=null,t.type="Array",t}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.schemaType=function(e){return this.$ArraySchema1=e,this},n.length=function(e){return this.$ArraySchema2=e,this},n.validator=function(e){if(null!=e||!this.isOptional)if(ES("Array","isArray",!1,e))if(this.$ArraySchema2&&e.length!==this.$ArraySchema2)this.addError(e,"Received an array of length "+String(e.length)+", expected an array of length "+String(this.$ArraySchema2));else{var t=ES("Array","isArray",!1,e=e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}if(r=r,!this.$ArraySchema1.validator)return void this.addError(r,"Bad/missing validator for Array");this.$ArraySchema1.validator(r);var a=this.$ArraySchema1.getErrors();if(a.length>0)return a="Array of type "+(a=this.$ArraySchema1.getType())+" contained a value of another type: "+String(r),void this.addError(r,a)}}else this.addError(e)},t}(o),c=function(e){function t(){var t;return(t=e.call(this)||this).type="String",t}return babelHelpers.inheritsLoose(t,e),t.prototype.validator=function(e){null==e&&this.isOptional||"string"!=typeof e&&this.addError(e)},t}(o),u=function(e){function t(){var t;return(t=e.call(this)||this).type="Number",t}return babelHelpers.inheritsLoose(t,e),t.prototype.validator=function(e){null==e&&this.isOptional||"number"==typeof e&&!isNaN(e)||this.addError(e)},t}(o),f=function(e){function t(){var t;return(t=e.call(this)||this).type="Integer",t}return babelHelpers.inheritsLoose(t,e),t.prototype.validator=function(e){null==e&&this.isOptional||s(e)||this.addError(e)},t}(u),m=function(e){function t(){var t;return(t=e.call(this)||this).type="Boolean",t}return babelHelpers.inheritsLoose(t,e),t.prototype.validator=function(e){null==e&&this.isOptional||"boolean"!=typeof e&&this.addError(e)},t}(o),d=function(e){function t(t){var n;(n=e.call(this)||this).$UnionSchema1=t;for(var r=" or ",a="",s=0;s<t.length;s++)a+=t[s].type+r;return n.type=a.substring(0,a.length-r.length),n}return babelHelpers.inheritsLoose(t,e),t.prototype.validator=function(e){if(null!=e||!this.isOptional){var t=[],n=this.$UnionSchema1,r=ES("Array","isArray",!1,n),a=0;for(n=r?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}if((s=s).validator(e),0===(s=s.getErrors()).length)return;t.concat(s)}this.addError(e);for(var s=0;s<t.length;s++)a=t[s],this.errors.push(a)}},t}(o);n=new e,a.exports=n},null),__d("fbinstant/common/score",["fbinstant/common/validator"],function(e,t,n,r,a){"use strict";n={PostSessionScore:function(e,n,r){return t("fbinstant/common/validator").validate(n,t("fbinstant/common/validator").integer()).then(function(){return e.sendPassThroughAsync("POST_SESSION_SCORE",{score:n,contextID:r})}).then(function(t){return t&&null!=t&&t.shouldPromptTournamentShare&&e.showGenericDialogAsync?e.showGenericDialogAsync("share_tournament",t.args):Promise.resolve()})}},a.exports=n},null),__d("fbinstant/common/adType",[],function(e,t,n,r,a){"use strict";e={INTERSTITIAL:"INTERSTITIAL",REWARDED_VIDEO:"REWARDED_VIDEO"},a.exports=e},null),__d("fbinstant/releases/6.3/apiError",["fbinstant/common/errorCode"],function(e,t,n,r,a){"use strict";e=function(e){this.code=e.code||t("fbinstant/common/errorCode").UNKNOWN,this.message=e.message,this.code===t("fbinstant/common/errorCode").CLIENT_REQUIRES_UPDATE&&(this.code=t("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION)},a.exports=e},null),__d("InstantGamesPassThroughRequestType",[],function(e,t,n,r,a){e=ES("Object","freeze",!1,{APP_CAPABILITY:"APP_CAPABILITY",APP_CUSTOM_EVENT:"APP_CUSTOM_EVENT",CAMERA_LOAD_EFFECT:"CAMERA_LOAD_EFFECT",CAN_CREATE_CONTEXT:"CAN_CREATE_CONTEXT",CAN_PLAYER_MATCH:"CAN_PLAYER_MATCH",CAN_SWITCH_CONTEXT:"CAN_SWITCH_CONTEXT",COPLAY_CAN_LOAD_AR_EFFECT:"COPLAY_CAN_LOAD_AR_EFFECT",ECHO:"ECHO",ENTRYPOINT_DATA:"ENTRYPOINT_DATA",ERROR:"ERROR",FEATURE_AVAILABILITY:"FEATURE_AVAILABILITY",GET_CONNECTED_PLAYERS:"GET_CONNECTED_PLAYERS",GET_DOES_CONTEXT_HAVE_FEEDBACK:"GET_DOES_CONTEXT_HAVE_FEEDBACK",GET_ENTRY_POINT:"GET_ENTRY_POINT",GET_IS_CONTEXT_DISCOVERABLE:"GET_IS_CONTEXT_DISCOVERABLE",GET_IS_CONTEXT_PUBLIC:"GET_IS_CONTEXT_PUBLIC",GET_LIVE_MATCH_INFO:"GET_LIVE_MATCH_INFO",GET_PLAYER_STATS:"GET_PLAYER_STATS",GET_TOURNAMENT_INFO:"GET_TOURNAMENT_INFO",HEARTBEAT:"HEARTBEAT",HIGH_AD_RATE:"HIGH_AD_RATE",INCREMENT_PLAYER_STATS:"INCREMENT_PLAYER_STATS",JOIN_ROOM:"JOIN_ROOM",LEADERBOARD_FETCH:"LEADERBOARD_FETCH",LEADERBOARD_OPERATION:"LEADERBOARD_OPERATION",LEADERBOARD_UPDATE:"LEADERBOARD_UPDATE",PLAYER_CAN_SUBSCRIBE_GAME_BOT:"PLAYER_CAN_SUBSCRIBE_GAME_BOT",POST_SESSION_SCORE:"POST_SESSION_SCORE",QE_LOG_EXPOSURE:"QE_LOG_EXPOSURE",QE_PARAM_NO_EXPOSURE_FETCH:"QE_PARAM_NO_EXPOSURE_FETCH",RECORD_GET_PLAYER_ID:"RECORD_GET_PLAYER_ID",SAVE_HIGHLIGHT:"SAVE_HIGHLIGHT",SDK_EVENT:"SDK_EVENT",SET_PLAYER_STATS:"SET_PLAYER_STATS",STORE_SENDER_INFO:"STORE_SENDER_INFO",SWITCH_GAME:"SWITCH_GAME",UPDATE:"UPDATE"}),a.exports=e},null),__d("fbinstant/common/getUrlParam",[],function(e,t,n,r,a){"use strict";var s=window.location.href;e=function(e){try{if((r=s.split("?")).length<2)return null;r=r[1].split("&");for(var t=ES("Array","isArray",!1,r=r),n=0,r=t?r:r["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(t){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}if((a=(a=a).split("=")).length>1&&a[0]===e)return a[1]}return null}catch(e){return null}},t=e,a.exports=t},null),__d("fbinstant/common/rateLimiter",[],function(e,t,n,r,a){"use strict";e=function(){function e(e,t){var n=this;this.$4=function(){n.$1=0},this.$2=e,this.$1=0,null!=t&&(this.$3=window.setInterval(this.$4,t))}var t=e.prototype;return t.check=function(){return this.$1<this.$2},t.bump=function(){return!!this.check()&&(this.$1+=1,!0)},e}(),a.exports=e},null),__d("fbinstant/common/adLimiter",["InstantGamesPassThroughRequestType","fbinstant/common/adType","fbinstant/common/getUrlParam","fbinstant/common/rateLimiter"],function(e,t,n,r,a){"use strict";e=function(){function e(n){var r=this;this.$3=null,this.$5=!1,this.$6=!1,this.$2=n,this.$3=t("fbinstant/common/getUrlParam")(e.PARAM_AD_RATE_LIMITING_EXPERIMENT_TYPE),this.$4=Boolean(Number(t("fbinstant/common/getUrlParam")(e.PARAM_LIMIT_INTERSTITAL_AFTER_ALL_AD_TYPES))),(n=Number(t("fbinstant/common/getUrlParam")(e.PARAM_TIME_TO_BLOCK_ADS_ON_START_MS)))>0&&(this.$5=!0,window.setTimeout(function(){r.$5=!1},n)),(n=Number(t("fbinstant/common/getUrlParam")(e.PARAM_AD_RATE_LIMITING_ON_START_EXPERIMENT_TEST_DURATION_REF)))>0&&(this.$6=!0,window.setTimeout(function(){r.$6=!1},n)),this.$1=((n={})[t("fbinstant/common/adType").INTERSTITIAL]=new(t("fbinstant/common/rateLimiter"))(e.RATE_LIMIT_AMOUNT,e.RATE_LIMIT_PERIOD),n[t("fbinstant/common/adType").REWARDED_VIDEO]=new(t("fbinstant/common/rateLimiter"))(e.RATE_LIMIT_AMOUNT,e.RATE_LIMIT_PERIOD),n)}var n=e.prototype;return n.canShowAd=function(n){if(this.$3===e.QE_AD_RATE_LIMITING_ON_START&&n===t("fbinstant/common/adType").INTERSTITIAL&&this.$6&&(this.$2.sendPassThroughAsync("QE_LOG_EXPOSURE",{qe_name:"IGA"}),this.$5))return!1;var r=this.$7(n);return n===t("fbinstant/common/adType").REWARDED_VIDEO?(r&&this.$2.sendPassThroughAsync(t("InstantGamesPassThroughRequestType").HIGH_AD_RATE,{}),!0):!(this.$3===e.QE_AD_RATE_LIMITING_BLOCK_INTERSTITIAL_AFTER_REWARDED&&this.$7(t("fbinstant/common/adType").REWARDED_VIDEO)&&n===t("fbinstant/common/adType").INTERSTITIAL&&(this.$2.sendPassThroughAsync("QE_LOG_EXPOSURE",{qe_name:"IGA"}),this.$4)||r)},n.markAdShown=function(e){this.$1[e]&&this.$1[e].bump()},n.$7=function(e){return!!this.$1[e]&&!this.$1[e].check()},e}(),a.exports=e,e.RATE_LIMIT_AMOUNT=1,e.RATE_LIMIT_PERIOD=3e4,e.PARAM_AD_RATE_LIMITING_EXPERIMENT_TYPE="arlet",e.PARAM_LIMIT_INTERSTITAL_AFTER_ALL_AD_TYPES="liaaat",e.PARAM_TIME_TO_BLOCK_ADS_ON_START_MS="ttbaosms",e.PARAM_AD_RATE_LIMITING_ON_START_EXPERIMENT_TEST_DURATION_REF="arlosetdr",e.QE_AD_RATE_LIMITING_BLOCK_INTERSTITIAL_AFTER_REWARDED="arlbiar",e.QE_AD_RATE_LIMITING_ON_START="arlosv2"},null),__d("AppEventField",[],function(e,t,n,r,a){a.exports={ANALYTICS_PARTNER_APP_ID:"_analyticsPartnerAppid",APP_USER_ID:"_app_user_id",APP_VERSION:"_appVersion",EVENT_NAME:"_eventName",EVENT_NAME_MD5:"_eventName_md5",FB_CURRENCY:"_currency",IMPLICITLY_LOGGED:"_implicitlyLogged",IN_BACKGROUND:"_inBackground",IS_TIMED_EVENT:"_isTimedEvent",LOG_TIME:"_logTime",ORDER_ID:"fb_order_id",SESSION_ID:"_session_id",UI:"_ui",VALUE_TO_SUM:"_valueToSum",EVENT_NAME_BEFORE_REMAPPED:"_event_name_before_remapped",IS_CODELESS:"_is_fb_codeless",IS_SUGGESTED_EVENT:"_is_suggested_event",IS_REFERRED_PIXEL_EVENT:"_fb_pixel_referral_id",FB_PIXEL_PARAMETER:"fb_pixel_id",TRACE_ID:"trace_id",USER_AGENT:"user_agent",SUBSCRIPTION_ID:"subscription_id",SUBSCRIPTION_SID:"subscription_sid",PREDICTED_LTV:"predicted_ltv",BACKEND_INFERRED:"_backendInferred",ANALYTICS_TRACE:"_analyticsTrace",RESTRICTED_PARAMS:"_restrictedParams",ON_DEVICE_PARAMS:"_onDeviceParams",PURCHASE_VALID_RESULT_TYPE:"purchase_valid_result_type",CORE_LIB_INCLUDED:"core_lib_included",LOGIN_LIB_INCLUDED:"login_lib_included",SHARE_LIB_INCLUDED:"share_lib_included",PLACE_LIB_INCLUDED:"place_lib_included",MESSENGER_LIB_INCLUDED:"messenger_lib_included",APPLINKS_LIB_INCLUDED:"applinks_lib_included",MARKETING_LIB_INCLUDED:"marketing_lib_included",CODELESS_DEBUG_ACTION:"_codeless_action",MARKETING_LIB_INITIALIZED:"sdk_initialized",BILLING_CLIENT_LIB_INCLUDED:"billing_client_lib_included",BILLING_SERVICE_LIB_INCLUDED:"billing_service_lib_included",USER_DATA_KEYS:"user_data_keys",DEVICE_PUSH_TOKEN:"device_push_token",FB_MOBILE_PCKG_FP:"fb_mobile_pckg_fp",FB_MOBILE_APP_CERT_HASH:"fb_mobile_app_cert_hash",COUNT:"$aggr.count"}},null),__d("FBEventsParamList",[],function(e,t,n,r,a){"use strict";var s="deep";function o(e){return"undefined"!=typeof JSON&&null!==JSON&&ES("JSON","stringify",!1)?ES("JSON","stringify",!1,e):Object.prototype.toString.call(e)}e=function(){function e(){this.list=[]}var t=e.prototype;return t.append=function(e,t){this.$1(encodeURIComponent(e),t,s)},t.each=function(e){for(var t=this.list,n=0,r=t.length;n<r;n++)e(t[n][0],t[n][1])},t.toQueryString=function(){var e=[];return this.each(function(t,n){e.push(t+"="+encodeURIComponent(n))}),e.join("&")},t.$1=function(e,t,n){Object(t)!==t?this.$2(e,t):n===s?this.$3(e,t):this.$2(e,o(t))},t.$2=function(e,t){null!=t&&this.list.push([e,t])},t.$3=function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=e+"["+encodeURIComponent(n)+"]";this.$1(r,t[n],"shallow")}},e}(),a.exports=e},null),__d("fbinstant/common/postEvent",[],function(e,t,n,r,a){"use strict";e=function(e,t){var n=new XMLHttpRequest;n.open("POST",e),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(t.toQueryString())},t=e,a.exports=t},null),__d("fbinstant/common/analytics",["AppEventField","FBEventsParamList","fbinstant/common/errorCode","fbinstant/common/getUrlParam","fbinstant/common/postEvent"],function(e,t,n,r,a){"use strict";e=function(){function e(){this.$1="WAITING",this.$5=[],this.$2=null,this.$3=/^apps-(\d+)\..*\.fbsbx\.com$/i}var n=e.prototype;return n.init=function(e,t){this.$2=e,this.$4=t,this.$6=this.$7(),null==this.$2&&(this.$2=this.$8()),null!=this.$2?(this.$9(),this.$1="DONE"):this.$1="FAILED"},n.logEvent=function(e,n,r){return e={eventName:e,valueToSum:n,parameters:r},"WAITING"===this.$1?(this.$5.push(e),null):"DONE"===this.$1?this.$10([e]):{code:t("fbinstant/common/errorCode").ANALYTICS_POST_EXCEPTION,message:"Failed to log analytics event"}},n.logAPICall=function(){return null},n.logBeginAsyncAPICall=function(e){return this.logAPICall(e)},n.logResolveAsyncAPICall=function(e){return this.logAPICall(e)},n.logRejectAsyncAPICall=function(e){return this.logAPICall(e)},n.$11=function(){return null==this.$2?null:"https://graph.facebook.com/"+this.$2+"/activities"},n.$12=function(e){var n=babelHelpers.extends({},e.parameters,{app_id:this.$2});return null!=this.$6&&(n[t("AppEventField").APP_VERSION]=this.$6),n[t("AppEventField").EVENT_NAME]=e.eventName,n[t("AppEventField").VALUE_TO_SUM]=e.valueToSum,ES("JSON","stringify",!1,n)},n.$10=function(e){var n=this;if(null==this.$2)return{code:t("fbinstant/common/errorCode").ANALYTICS_POST_EXCEPTION,message:"Analytics failed to resolve the application ID."};try{e=ES(e,"map",!0,function(e){return n.$12(e)});var r=new(t("FBEventsParamList"));if(r.append("event","CUSTOM_APP_EVENTS"),r.append("extinfo",["ig1"]),r.append("user_id",this.$4),r.append("user_id_type","INSTANT_GAMES_PLAYER_ID"),r.append("advertiser_tracking_enabled",1),r.append("application_tracking_enabled",1),r.append("data_processing_options","[]"),r.append("custom_events",e),null==(e=this.$11()))return{code:t("fbinstant/common/errorCode").ANALYTICS_POST_EXCEPTION,message:"Unable to use the analytics endpoint"};t("fbinstant/common/postEvent")(e,r)}catch(e){return{code:t("fbinstant/common/errorCode").ANALYTICS_POST_EXCEPTION,message:e.message}}return null},n.$9=function(){if(0===this.$5.length)return null;this.$10(this.$5),this.$5=[]},n.$8=function(){var e=window.location.hostname;return e&&(e=this.$3.exec(e))&&e.length&&e.length>1&&e[1]?e[1]:null},n.$7=function(){var e=t("fbinstant/common/getUrlParam")("version");return null==e?null:parseInt(e,10)||null},e}(),a.exports=e},null),__d("fbinstant/common/contextType",[],function(e,t,n,r,a){"use strict";e={GENERIC:"GENERIC",GROUP:"GROUP",POST:"POST",SOLO:"SOLO",THREAD:"THREAD",LINK:"LINK"},a.exports=e},null),__d("fbinstant/common/event",[],function(e,t,n,r,a){"use strict";e=function(){function e(){this.$1=[]}var t=e.prototype;return t.on=function(e){this.$1.push(e)},t.off=function(e){for(var t=this.$1.length,n=0;n<t;n++)if(this.$1[n]===e)return void this.$1.splice(n,1)},t.unbind=function(){this.$1=[]},t.triggerSubscribers=function(e){var t=this.$1.slice(),n=ES("Array","isArray",!1,t=t),r=0;for(t=n?t:t["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}(a=a)(e)}},e}(),a.exports=e},null),__d("fbinstant/common/gameContext",["fbinstant/common/contextType"],function(e,t,n,r,a){"use strict";e=function(){function e(e){this.$4=null;var n=e.id,r=e.type;if(e=e.size,!n||!r)return this.$1=null,this.$2=null,void(this.$3=t("fbinstant/common/contextType").SOLO);r===t("fbinstant/common/contextType").SOLO?this.$3=t("fbinstant/common/contextType").THREAD:r===t("fbinstant/common/contextType").LINK?this.$3=t("fbinstant/common/contextType").THREAD:r===t("fbinstant/common/contextType").GENERIC?this.$3=t("fbinstant/common/contextType").THREAD:this.$3=r,this.$1=n.toString(),this.$2=e||null}var n=e.prototype;return n.getID=function(){return this.$1},n.getType=function(){return this.$3},n.getSize=function(){return this.$2},n.getContextSizeResponse=function(){return this.$4},n.setContextSizeResponse=function(e){this.$4=e},e}(),a.exports=e},null),__d("fbinstant/common/supportedFeaturesManager",[],function(e,t,n,r,a){"use strict";e=function(){function e(){this.$1=new Set}var t=e.prototype;return t.setSupported=function(e){this.$1=new Set(e)},t.isSupported=function(e){return!!this.$1.has(e)},e}(),t=new e,a.exports=t},null),__d("fbinstant/common/supportedMessagesManager",["InstantGamesSDKMessages"],function(e,t,n,r,a){"use strict";var s=new Set([(e=t("InstantGamesSDKMessages")).INITIALIZE_ASYNC,e.ON_BEGIN_LOAD,e.ON_CONSOLE,e.ON_PROGRESS_LOAD,e.ON_GAME_READY,e.ON_SCORE,e.ON_SCREENSHOT,e.ON_PICTURE,e.ON_END_GAME,e.GET_PLAYER_DATA_ASYNC,e.SET_PLAYER_DATA_ASYNC]);r=new(function(){function e(){this.$1=new Set}var t=e.prototype;return t.setSupported=function(e){this.$1=new Set(e)},t.isSupported=function(e){return!!s.has(e)||this.$1.has(e)},e}()),a.exports=r},null),__d("fbinstant/releases/6.3/entryPoint",["Promise"],function(e,t,n,r,a){"use strict";e=function(){function e(e,t){this.$3=null,this.$2=e,this.$1=t}var n=e.prototype;return n.getData=function(){return this.$1},n.getCanonicalEntryPointAsync=function(e){var n=this;return null!=this.$3?t("Promise").resolve(this.$3):e.sendPassThroughAsync("GET_ENTRY_POINT",{source:this.$2}).then(function(e){return n.$3=e.entry_point,e.entry_point})},e}(),a.exports=e},null),__d("fbinstant/common/eventBatcher",[],function(e,t,n,r,a){"use strict";e=function(){function e(e){var t=this;this.$4=function(){t.$3(t.$2),t.$2=[]},this.$3=e,this.$2=[],this.$1=null}var t=e.prototype;return t.startInterval=function(e){void 0===e&&(e=5e3),null!==this.$1&&this.stopInterval(),this.$1=window.setInterval(this.$4,e)},t.stopInterval=function(){this.$1&&(window.clearInterval(this.$1),this.$1=null)},t.logEvent=function(e){this.$2.push(e)},e}(),a.exports=e},null),__d("fbinstant/releases/6.3/internalEventLogger",["fbinstant/common/eventBatcher"],function(e,t,n,r,a){"use strict";e=function(){function e(){var e=this;this.$3=function(t){var n=e.$2;t.length<=0||!n||(t=e.$4(t),n.sendPassThroughAsync("SDK_EVENT",{events:t}))},this.$1=new(t("fbinstant/common/eventBatcher"))(this.$3)}var n=e.prototype;return n.initialize=function(e){this.$2=e,this.$1.startInterval()},n.logEvent=function(e,t,n){this.$1.logEvent({type:e,data:babelHelpers.extends({},n,{contextID:t.getContext().getID()})})},n.$4=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];Object.prototype.hasOwnProperty.call(t,r.data.key)||(t[r.data.key]=babelHelpers.extends({},r),t[r.data.key].data.count=0),t[r.data.key].data.count+=1}for(var a in r=[],t)r.push(t[a]);return r},e}(),a.exports=e},null),__d("Alea",[],function(e,t,n,r,a){function s(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}a.exports=function(){for(var e=0,t=0,n=0,r=1,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var l=o.length>0?o:[new Date],c=new s;e=c(" "),t=c(" "),n=c(" ");for(var u=0;u<l.length;u++)(e-=c(l[u]))<0&&(e+=1),(t-=c(l[u]))<0&&(t+=1),(n-=c(l[u]))<0&&(n+=1);c=null;var f=function(){var a=2091639*e+2.3283064365386963e-10*r;return e=t,t=n,n=a-(r=0|a)};return f.version="Alea 0.9",f.args=l,f}},null),__d("fbinstant/common/messageLocksMap",["InstantGamesSDKMessages"],function(e,t,n,r,a,s){"use strict";for(n=[(e=t("InstantGamesSDKMessages")).CONTEXT_CHOOSE_ASYNC,e.CONTEXT_CREATE_ASYNC,e.CONTEXT_SWITCH_ASYNC,e.CREATE_SHORTCUT_ASYNC,e.SHARE_ASYNC,e.SHOW_AD_ASYNC,e.SHOW_GENERIC_DIALOG_ASYNC],r=[e.FLUSH_PLAYER_DATA_ASYNC,e.SET_PLAYER_DATA_ASYNC],s={},t=0;t<n.length;t++){var o=n[t];s[o]=n}s[e.FLUSH_PLAYER_DATA_ASYNC]=r,s[e.CONTEXT_MATCH_CREATE_ASYNC]=[e.CONTEXT_MATCH_CREATE_ASYNC],o=s,a.exports=o},null),__d("fbinstant/common/exclusiveMessageManager",["invariant","InstantGamesErrorCode","fbinstant/common/messageLocksMap"],function(e,t,n,r,a,s,o){"use strict";e=function(){function e(){this.$1=new Map}var n=e.prototype;return n.isLocked=function(e){return this.$1.has(e)},n.lockOrThrow=function(e){if(this.isLocked(e)){var n=this.$1.get(e);return this.$2(String(n))}if(!(n=t("fbinstant/common/messageLocksMap")[e]))return Promise.resolve();for(var r=0,a=(s=ES("Array","isArray",!1,a=n))?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(s){if(r>=a.length)break;i=a[r++]}else{if((r=a.next()).done)break;i=r.value}if(i=i,this.$1.has(i))return void 0!==(i=this.$1.get(i))||o(0,1560),this.$2(i)}for(var s=0,i=(r=ES("Array","isArray",!1,i=n))?i:i["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){if(r){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}n=a,this.$1.set(n,e)}return Promise.resolve()},n.release=function(e){if(e=t("fbinstant/common/messageLocksMap")[e]){var n=ES("Array","isArray",!1,e=e),r=0;for(e=n?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(n){if(r>=e.length)break;a=e[r++]}else{if((r=e.next()).done)break;a=r.value}a=a,this.$1.delete(a)}}},n.reset_TESTINGONLY=function(){this.$1=new Map},n.$2=function(e){return Promise.reject({code:t("InstantGamesErrorCode").PENDING_REQUEST,message:"There is currently a pending request for locking message: "+e})},e}(),n=new e,a.exports=n},null),__d("fbinstant/releases/6.3/platform",["fbinstant/common/platform"],function(e,t,n,r,a){"use strict";a.exports={getPlatform:function(){return window.IsQuicksilverReactNativeIOS||window.webkit?t("fbinstant/common/platform").IOS:window.IsQuicksilverReactNativeAndroid||window.QuicksilverAndroid?t("fbinstant/common/platform").ANDROID:window.IsMobileWeb?t("fbinstant/common/platform").MOBILE_WEB:t("fbinstant/common/platform").WEB}}},null),__d("fbinstant/releases/6.3/messageSender",["Promise","Alea","InstantGamesSDKMessages","fbinstant/common/errorCode","fbinstant/common/event","fbinstant/common/exclusiveMessageManager","fbinstant/common/platform","fbinstant/common/supportedMessagesManager","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/platform"],function(e,t,n,r,a){"use strict";var s=t("Alea")();e=function(){function e(e){this.$4=e,this.$1={},this.$2=new(t("fbinstant/common/event")),this.$3=new(t("fbinstant/common/event"))}var n=e.prototype;return n.initialize=function(e){var t=this;this.$6=e.source,this.$5=e.sender,this.$2.on(function(e){t.$7(e,!0)}),this.$3.on(function(e){t.$7(e,!1)}),(e=(e=new RegExp("[?&]IsMobileWeb(=([^&#]*)|&|#|$)","i")).exec(window.location.href))&&e[2]&&(window.IsMobileWeb=1===parseInt(e[2],10))},n.getResolvePromiseEvent=function(){return this.$2},n.getRejectPromiseEvent=function(){return this.$3},n.send=function(e,n){this.$6&&this.$5&&t("fbinstant/common/supportedMessagesManager").isSupported(e)&&this.$5.postMessage(this.$8({type:e,content:n,destination:this.$6}),"*")},n.sendAsync=function(e,n){var r=this;return t("fbinstant/common/supportedMessagesManager").isSupported(e)?t("fbinstant/common/exclusiveMessageManager").lockOrThrow(e).then(function(){return r.$9(e,n).then(function(n){return t("fbinstant/common/exclusiveMessageManager").release(e),n}).catch(function(n){throw t("fbinstant/common/exclusiveMessageManager").release(e),n})}).catch(function(e){throw new(t("fbinstant/releases/6.3/apiError"))(e)}):t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support the message: "+e}))},n.showGenericDialogAsync=function(e,n){return n={data:n=ES("JSON","stringify",!1,n||{}),request:e,sdkVersion:this.$4},e=t("fbinstant/releases/6.3/platform").getPlatform()===t("fbinstant/common/platform").IOS?t("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC_IOS:t("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC,this.sendAsync(e,n).then(function(e){if(!e)return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").UNKNOWN,message:"No response data provided"}));if("object"==typeof e&&!e.errorCode)return e;var n=(e=ES("JSON","parse",!1,e)).data,r=e.errorCode;return e=e.errorMessage,r?t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:r,message:e||""})):n})},n.sendPassThroughAsync=function(e,n){return n={data:n=ES("JSON","stringify",!1,n||{}),request:e,sdkVersion:this.$4},this.sendAsync(t("InstantGamesSDKMessages").SEND_PASS_THROUGH_ASYNC,n).then(function(e){if(!e)return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").UNKNOWN,message:"No response data provided"}));var n=(e=ES("JSON","parse",!1,e)).data,r=e.errorCode;return e=e.errorMessage,r?t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:r,message:e||""})):n})},n.$8=function(e){switch(this.$6){case"Android":case"quicksilver-rn":return ES("JSON","stringify",!1,e)}return e},n.$10=function(e){return e+"_"+Math.floor(4294967296*s())},n.$11=function(e,t,n){this.$1[e]={resolve:t,reject:n}},n.$7=function(e,n){var r=e.promiseID;if(r&&this.$1[r]){var a=this.$1[r];n&&a.resolve?a.resolve(e.data):!n&&a.reject&&(n=(n=e.data)?new(t("fbinstant/releases/6.3/apiError"))({code:n.code||t("fbinstant/common/errorCode").UNKNOWN,message:n.message||""}):new(t("fbinstant/releases/6.3/apiError"))({message:""}),a.reject(n)),delete this.$1[r]}},n.$9=function(e,n){var r=this;return new(t("Promise"))(function(t,a){var s=r.$10(e);r.$11(s,t,a),(t=n||{}).promiseID=s,r.send(e,t)})},e}(),a.exports=e},null),__d("fbinstant/releases/6.3/paymentsState",["Promise","fbinstant/common/event"],function(e,t,n,r,a){"use strict";e=function(){function e(){var e=this;this.$3=!1,this.$1=new(t("fbinstant/common/event")),this.$2=new(t("Promise"))(function(t){e.$1.on(function(){e.$3=!0,t(),e.$1.unbind()})})}var n=e.prototype;return n.getPaymentsInitializedEvent=function(){return this.$1},n.isClientReady=function(){return this.$3},n.onInitialized=function(e){this.$2.then(e)},e}(),a.exports=e},null),__d("fbinstant/releases/6.3/internalStates",["InstantGamesGameState","InstantGamesPassThroughRequestType","fbinstant/common/adLimiter","fbinstant/common/analytics","fbinstant/common/contextType","fbinstant/common/event","fbinstant/common/gameContext","fbinstant/common/supportedFeaturesManager","fbinstant/common/supportedMessagesManager","fbinstant/releases/6.3/entryPoint","fbinstant/releases/6.3/internalEventLogger","fbinstant/releases/6.3/messageSender","fbinstant/releases/6.3/paymentsState"],function(e,t,n,r,a){"use strict";e=function(){function e(){var e;this.$27="fbinstant.6.3".substring("fbinstant.".length),this.$16=new(t("fbinstant/releases/6.3/messageSender"))(this.$27),this.$1=new(t("fbinstant/common/adLimiter"))(this.$16),this.$2=new(t("fbinstant/common/analytics")),this.$3=new(e=t("fbinstant/common/event")),this.$4=null,this.$5=null,this.$6=new(t("fbinstant/common/gameContext"))({type:t("fbinstant/common/contextType").SOLO}),this.$7=0,this.$8=new(t("fbinstant/releases/6.3/entryPoint"))(null,null),this.$9=t("InstantGamesGameState").LOADING,this.$10=new e,this.$11=new e,this.$12=!1,this.$13=new(t("fbinstant/releases/6.3/internalEventLogger")),this.$14=null,this.$15=null,this.$17=new e,this.$20=new(t("fbinstant/releases/6.3/paymentsState")),this.$21=null,this.$22=null,this.$23=null,this.$24=null,this.$18=new e,this.$19=new e,this.$25=new e,this.$26=new e}var n=e.prototype;return n.initialize=function(e){var n=this;e.appID&&this.setAppID(e.appID),e.locale&&this.setLocale(e.locale),e.playerID&&this.setPlayerID(e.playerID),e.playerName&&this.setPlayerName(e.playerName),e.playerPhoto&&this.setPlayerPhoto(e.playerPhoto),e.supportedMessages&&ES("Array","isArray",!1,e.supportedMessages)&&t("fbinstant/common/supportedMessagesManager").setSupported(e.supportedMessages),e.supportedFeatures&&ES("Array","isArray",!1,e.supportedFeatures)&&t("fbinstant/common/supportedFeaturesManager").setSupported(e.supportedFeatures);var r=null;if(e.entryPointData)try{var a=ES("JSON","parse",!1,e.entryPointData);r=a.sender&&a.data?a.data:a}catch(e){}a=e.entryPoint||null,this.updateEntryPoint(new(t("fbinstant/releases/6.3/entryPoint"))(a,r)),this.updateContext(e),this.setInitialized(),this.getAnalytics().init(this.getAppID(),this.getPlayerID()),this.getAnalyticsLogEvent().on(function(e){var t=e.eventName,r=e.valueToSum;e=e.parameters,t&&n.getAnalytics().logEvent(t,null!=r?r:null,e||null)}),this.getInternalEventLogger().initialize(this.getMessageSender())},n.updateContext=function(e){e.contextType&&(this.$6=new(t("fbinstant/common/gameContext"))({id:e.contextID,size:e.contextSize,type:e.contextType.toUpperCase()}))},n.updateEntryPoint=function(e){this.$8=e},n.setAppID=function(e){this.$4=e},n.setLocale=function(e){this.$14=e},n.setPlayerID=function(e){this.$21=e},n.setPlayerName=function(e){this.$22=e},n.setPlayerPhoto=function(e){this.$23=e},n.setInitialized=function(){this.$12=!0},n.setLoadingProgress=function(e){this.$7=e},n.setGameState=function(e){this.$9=e},n.setConnectedPlayersPromise=function(e){this.$5=e},n.setMatchPlayerPromise=function(e){this.$15=e},n.setQEParams=function(e){this.$24=e},n.getAnalytics=function(){return this.$2},n.getAppID=function(){return this.$4},n.getConnectedPlayersPromise=function(){return this.$5},n.getContext=function(){return this.$6},n.getLoadingProgress=function(){return this.$7},n.getEntryPoint=function(){return this.$8},n.getGameState=function(){return this.$9},n.getGameStartEvent=function(){return this.$10},n.isInitialized=function(){return this.$12},n.getInternalEventLogger=function(){return this.$13},n.getLocale=function(){return this.$14},n.getMatchPlayerPromise=function(){return this.$15},n.getMessageSender=function(){return this.$16},n.getPaymentsState=function(){return this.$20},n.getPlayerID=function(){return this.$21},n.getPlayerName=function(){return this.$22},n.getPlayerPhoto=function(){return this.$23},n.getRestartEvent=function(){return this.$25},n.getPauseEvent=function(){return this.$17},n.getReceiveMessageEvent=function(){return this.$18},n.getReceiveStateUpdateEvent=function(){return this.$19},n.getResumeEvent=function(){return this.$26},n.getAnalyticsLogEvent=function(){return this.$3},n.getSdkVersion=function(){return this.$27},n.getQEParams=function(){return this.$24},n.getAdLimiter=function(){return this.$1},n.getGestureCommandEvent=function(){return this.$11},e}(),a.exports=new e},null),__d("fbinstant/releases/6.3/logger",["fbinstant/releases/6.3/internalStates"],function(e,t,n,r,a){"use strict";function s(e,n){t("fbinstant/releases/6.3/internalStates").getAnalytics().logRejectAsyncAPICall(e,n),i(l(e,"api_reject_async",String(n)),"API",{type:"api_reject_async",name:e,code:n})}function o(e){t("fbinstant/releases/6.3/internalStates").getAnalytics().logResolveAsyncAPICall(e),i(l(e,"api_resolve_async"),"API",{type:"api_resolve_async",name:e})}function i(e,n,r){r=babelHelpers.extends({},r,{key:e,gameState:t("fbinstant/releases/6.3/internalStates").getGameState()}),t("fbinstant/releases/6.3/internalStates").getInternalEventLogger().logEvent(n,t("fbinstant/releases/6.3/internalStates"),r)}function l(e,t,n){return void 0===n&&(n=null),null!=n?e+"."+t+"."+n:e+"."+t}a.exports={logAPICall:function(e){t("fbinstant/releases/6.3/internalStates").getAnalytics().logAPICall(e),i(l(e,"api_call"),"API",{type:"api_call",name:e})},logBeginAsync:function(e){t("fbinstant/releases/6.3/internalStates").getAnalytics().logBeginAsyncAPICall(e),i(l(e,"api_begin_async"),"API",{type:"api_begin_async",name:e})},logAsyncResult:function(e,t){return e.then(function(e){return o(t),e}).catch(function(e){var n=e&&e.code||null;throw s(t,n),e})},logReject:s,logResolve:o}},null),__d("fbinstant/releases/6.3/ads",["Promise","InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/adType","fbinstant/common/errorCode","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/internalStates","fbinstant/releases/6.3/logger"],function(e,t,n,r,a){"use strict";var s=function(){function e(e,t){this.$1=e,this.$2=t}var n=e.prototype;return n.getPlacementID=function(){return this.$1.placementID},n.loadAsync=function(){var e="AdInstance_loadAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").LOAD_AD_ASYNC,{adInstanceID:this.$1.adInstanceID});return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e).then(function(){})},n.showAsync=function(){var e=this,n="AdInstance_showAsync";if(t("fbinstant/releases/6.3/logger").logBeginAsync(n),t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").INVALID_OPERATION),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));if(this.$2===t("fbinstant/common/adType").INTERSTITIAL&&t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("QE_LOG_EXPOSURE",{qe_name:"IGSAC"}),!t("fbinstant/releases/6.3/internalStates").getAdLimiter().canShowAd(this.$2))return t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").RATE_LIMITED),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").RATE_LIMITED,message:"Too many ads shown recently. Wait a bit before attempting to show more."}));var r=t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").SHOW_AD_ASYNC,{adInstanceID:this.$1.adInstanceID});return t("fbinstant/releases/6.3/logger").logAsyncResult(r,n).then(function(){t("fbinstant/releases/6.3/internalStates").getAdLimiter().markAdShown(e.$2)})},e}();a.exports={AdInstance:s,getInterstitialAdAsync:function(e){return t("fbinstant/common/validator").validate(e,t("fbinstant/common/validator").string()).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").GET_INTERSTITIAL_AD_ASYNC,{placementID:e})}).then(function(e){return new s(e,t("fbinstant/common/adType").INTERSTITIAL)})},getRewardedVideoAsync:function(e){return t("fbinstant/common/validator").validate(e,t("fbinstant/common/validator").string()).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").GET_REWARDED_VIDEO_ASYNC,{placementID:e})}).then(function(e){return new s(e,t("fbinstant/common/adType").REWARDED_VIDEO)})}}},null),__d("InstantGamesChallengePickerFilter",[],function(e,t,n,r,a){e=ES("Object","freeze",!1,{NEW_CONTEXT_ONLY:"NEW_CONTEXT_ONLY",INCLUDE_EXISTING_CHALLENGES:"INCLUDE_EXISTING_CHALLENGES",NEW_PLAYERS_ONLY:"NEW_PLAYERS_ONLY",DUMMY_FILTER:"DUMMY_FILTER"}),a.exports=e},null),__d("fbinstant/common/connectedPlayers",["InstantGamesPassThroughRequestType","InstantGamesSDKMessages"],function(e,t,n,r,a){"use strict";var s=function(){function e(e){this.$1=e}var t=e.prototype;return t.getID=function(){return this.$1.id},t.getName=function(){return this.$1.name},t.getPhoto=function(){return this.$1.photo},e}();n={fetchAsync:function(e){return e.sendAsync(t("InstantGamesSDKMessages").GET_CONNECTED_PLAYERS_ASYNC,{}),e.sendPassThroughAsync(t("InstantGamesPassThroughRequestType").GET_CONNECTED_PLAYERS,{}).then(function(e){return ES(e,"map",!0,function(e){return new s(e)})})},ConnectedPlayer:s},a.exports=n},null),__d("fbinstant/releases/6.3/contextCreator",["Promise","InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/connectedPlayers","fbinstant/common/errorCode","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/internalStates"],function(e,t,n,r,a){"use strict";e={createAsync:function(e){if(t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));var n=[e];return t("fbinstant/common/validator").validate(n,t("fbinstant/common/validator").array().schemaType(t("fbinstant/common/validator").string()).length(1)).then(function(){var e=ES(n,"indexOf",!0,t("fbinstant/releases/6.3/internalStates").getPlayerID()||"");return e>-1&&n.splice(e,1),0===n.length?t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"At least one player id besides the current player must be provided."})):(e=t("fbinstant/releases/6.3/internalStates").getConnectedPlayersPromise())?e:(e=t("fbinstant/common/connectedPlayers").fetchAsync(t("fbinstant/releases/6.3/internalStates").getMessageSender()),t("fbinstant/releases/6.3/internalStates").setConnectedPlayersPromise(e),e)}).then(function(e){e=new Set(ES(e,"map",!0,function(e){return e.getID()}));for(var r=0;r<n.length;r++){var a=n[r];if(!e.has(a))return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"Provided ID "+String(a)+" is not a connected player of the current player."}))}return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").CONTEXT_CREATE_ASYNC,{playerIDs:n})}).then(function(e){t("fbinstant/releases/6.3/internalStates").updateContext(e)})}},a.exports=e},null),__d("fbinstant/releases/6.3/contextPlayers",["InstantGamesSDKMessages","fbinstant/releases/6.3/internalStates"],function(e,t,n,r,a){"use strict";var s=function(){function e(e){this.$1=e}var t=e.prototype;return t.getID=function(){return this.$1.id},t.getName=function(){return this.$1.name||null},t.getPhoto=function(){return this.$1.photo||null},e}();e={fetchAsync:function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").CONTEXT_PLAYERS_FETCH_ASYNC,{}).then(function(e){return ES(e,"map",!0,function(e){return new s(e)})})},ContextPlayer:s},a.exports=e},null),__d("fbinstant/releases/6.3/contextSwitcher",["Promise","InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/errorCode","fbinstant/common/getUrlParam","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/internalStates"],function(e,t,n,r,a){"use strict";e={switchAsync:function(e){var n=this;if(t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));if(e===t("fbinstant/releases/6.3/internalStates").getContext().getID())return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").SAME_CONTEXT,message:"Must specify a context other than the current one."}));var r=Number(t("fbinstant/common/getUrlParam")("gcgs"))||0;return(r=1===r)?this._switchAsync(e):this._canSwitchAsync(e).then(function(r){return r?n._switchAsync(e):t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").CLIENT_REQUIRES_UPDATE,message:"Client requires update to support this operation"}))})},_switchAsync:function(e){return t("fbinstant/common/validator").validate(e,t("fbinstant/common/validator").string()).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").CONTEXT_SWITCH_ASYNC,{id:e})}).then(function(e){t("fbinstant/releases/6.3/internalStates").updateContext(e)})},_canSwitchAsync:function(e){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("CAN_SWITCH_CONTEXT",{id:e}).catch(function(){return!1})}},a.exports=e},null),__d("fbinstant/releases/6.3/context",["Promise","InstantGamesChallengePickerFilter","InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/errorCode","fbinstant/common/getUrlParam","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/contextCreator","fbinstant/releases/6.3/contextPlayers","fbinstant/releases/6.3/contextSwitcher","fbinstant/releases/6.3/internalStates","fbinstant/releases/6.3/logger"],function(e,t,n,r,a){"use strict";e={getID:function(){return t("fbinstant/releases/6.3/logger").logAPICall("context_getID"),t("fbinstant/releases/6.3/internalStates").getContext().getID()},getType:function(){t("fbinstant/releases/6.3/logger").logAPICall("context_getType");var e=t("fbinstant/releases/6.3/internalStates").getContext().getType();return"POST"===e&&t("fbinstant/common/getUrlParam")("oct")&&(e="THREAD"),e},isSizeBetween:function(e,n){t("fbinstant/releases/6.3/logger").logAPICall("context_isSizeBetween");var r=t("fbinstant/releases/6.3/internalStates").getContext().getContextSizeResponse();if(r)return r;if(r=t("fbinstant/releases/6.3/internalStates").getContext().getSize(),null!==e&&!ES("Number","isInteger",!1,e)||null!==n&&!ES("Number","isInteger",!1,n)||null==r)return null;var a=!1;return(!e||r>=e)&&(!n||r<=n)&&(e||n)&&(a=!0),r={answer:a,minSize:e,maxSize:n},t("fbinstant/releases/6.3/internalStates").getContext().setContextSizeResponse(r),r},switchAsync:function(e){var n="context_switchAsync";return t("fbinstant/releases/6.3/logger").logBeginAsync(n),e=t("fbinstant/releases/6.3/contextSwitcher").switchAsync(e),t("fbinstant/releases/6.3/logger").logAsyncResult(e,n)},chooseAsync:function(e){var n="context_chooseAsync";if(t("fbinstant/releases/6.3/logger").logBeginAsync(n),t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").INVALID_OPERATION),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));var r=e||{};if(r.filters=r.filters||[],r.maxSize=r.maxSize||null,r.minSize=r.minSize||null,r.maxSize&&r.maxSize<2)return t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").INVALID_PARAM),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"The maximum context size must be at least 2"}));if(r.minSize&&r.minSize<2)return t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").INVALID_PARAM),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"The minimum context size must be at least 2"}));if(r.maxSize&&r.minSize&&r.minSize>r.maxSize)return t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").INVALID_PARAM),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"The min size cannot be greater than the max size"}));e=r.filters;var a=ES("Array","isArray",!1,e),s=0;for(e=a?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(a){if(s>=e.length)break;o=e[s++]}else{if((s=e.next()).done)break;o=s.value}if(o=o,!Object.prototype.hasOwnProperty.call(t("InstantGamesChallengePickerFilter"),o))return t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").INVALID_PARAM),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:'Filter "'+o+'" is not supported'}))}return o=t("fbinstant/common/validator").object().keys({filters:t("fbinstant/common/validator").array().schemaType(t("fbinstant/common/validator").string()),maxSize:t("fbinstant/common/validator").number().optional(),minSize:t("fbinstant/common/validator").number().optional()}),s=t("fbinstant/common/validator").validate(r,o).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").CONTEXT_CHOOSE_ASYNC,r)}).then(function(e){t("fbinstant/releases/6.3/internalStates").updateContext(e)}),t("fbinstant/releases/6.3/logger").logAsyncResult(s,n)},addPlayerAsync:function(e){var n="context_addPlayerAsync";if(t("fbinstant/releases/6.3/logger").logBeginAsync(n),t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").INVALID_OPERATION),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));var r={playerID:e||null};return e=t("fbinstant/common/validator").object().keys({playerID:t("fbinstant/common/validator").string().optional()}),e=t("fbinstant/common/validator").validate(r,e).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").CONTEXT_ADD_PLAYER_ASYNC,r)}).then(function(e){t("fbinstant/releases/6.3/internalStates").updateContext(e)}),t("fbinstant/releases/6.3/logger").logAsyncResult(e,n)},createAsync:function(e){var n="context_createAsync";return t("fbinstant/releases/6.3/logger").logBeginAsync(n),e=t("fbinstant/releases/6.3/contextCreator").createAsync(e),t("fbinstant/releases/6.3/logger").logAsyncResult(e,n)},getPlayersAsync:function(){var e="context_fetchPlayers";if(t("fbinstant/releases/6.3/logger").logBeginAsync(e),null===t("fbinstant/releases/6.3/internalStates").getContext().getID())return t("fbinstant/releases/6.3/logger").logReject(e,t("fbinstant/common/errorCode").INVALID_OPERATION),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot get context players in a solo context"}));var n=t("fbinstant/releases/6.3/contextPlayers").fetchAsync().then(function(n){return t("fbinstant/releases/6.3/logger").logResolve(e),n}).catch(function(n){throw t("fbinstant/releases/6.3/logger").logReject(e),n});return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e)}},a.exports=e},null),__d("InstantGameSDKCustomUpdateNotificationType",[],function(e,t,n,r,a){e=ES("Object","freeze",!1,{PUSH:"PUSH",NO_PUSH:"NO_PUSH"}),a.exports=e},null),__d("InstantGameSDKEndAction",[],function(e,t,n,r,a){e=ES("Object","freeze",!1,{SCORE:"SCORE",CUSTOM:"CUSTOM",NONE:"NONE"}),a.exports=e},null),__d("InstantGamesCustomUpdateDeliveryPolicy",[],function(e,t,n,r,a){a.exports=ES("Object","freeze",!1,{IMMEDIATE:"IMMEDIATE",LAST:"LAST",IMMEDIATE_CLEAR:"IMMEDIATE_CLEAR"})},null),__d("fbinstant/releases/6.3/endGamePayload",["Promise","InstantGamesCustomUpdateDeliveryPolicy","InstantGameSDKCustomUpdateNotificationType","InstantGameSDKEndAction","fbinstant/common/errorCode","fbinstant/common/validator","fbinstant/releases/6.3/apiError"],function(e,t,n,r,a){"use strict";e=function(){function e(){}var n=e.prototype;return n.format=function(e){return e&&e instanceof Object&&e.action&&e.action===t("InstantGameSDKEndAction").CUSTOM?e.image||e.media?!e.media||e.media.gif||e.media.video?this.$1(e):t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"Media content requires at least video or gif."})):t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"Custom update requires image or media input"})):t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:'Update action property must be "CUSTOM"'}))},n.$1=function(e){var n=e.strategy&&e.strategy in t("InstantGamesCustomUpdateDeliveryPolicy")?e.strategy:t("InstantGamesCustomUpdateDeliveryPolicy").IMMEDIATE,r=e.notification&&e.notification in t("InstantGameSDKCustomUpdateNotificationType")?e.notification:t("InstantGameSDKCustomUpdateNotificationType").NO_PUSH;return e=babelHelpers.extends({},e,{strategy:n,notification:r}),n=t("fbinstant/common/validator").object().keys({action:t("fbinstant/common/validator").string(),template:t("fbinstant/common/validator").string(),cta:t("fbinstant/common/validator").union([t("fbinstant/common/validator").string(),t("fbinstant/common/validator").object()]).optional(),image:t("fbinstant/common/validator").string().optional(),media:t("fbinstant/common/validator").object().keys({gif:t("fbinstant/common/validator").object().keys({url:t("fbinstant/common/validator").string()}).optional(),video:t("fbinstant/common/validator").object().keys({url:t("fbinstant/common/validator").string()}).optional()}).optional(),text:t("fbinstant/common/validator").union([t("fbinstant/common/validator").string(),t("fbinstant/common/validator").object()]),data:t("fbinstant/common/validator").object().optional().maxSize(1e3),strategy:t("fbinstant/common/validator").string(),notification:t("fbinstant/common/validator").string()}),this.$2(e,n,["action","cta","image","media","text","data","strategy"],["data"])},n.$2=function(e,n,r,a){var s=this;return void 0===a&&(a=[]),t("fbinstant/common/validator").validate(e,n).then(function(e){return t("Promise").resolve(s.$3(e,r,a))})},n.$3=function(e,t,n){void 0===n&&(n=[]);var r=this.$4(e);for(var a in e=babelHelpers.extends({},e,r),r={},e)if(-1!==ES(n,"indexOf",!0,a))try{e[a]=ES("JSON","stringify",!1,e[a])}catch(e){}for(var s in e)-1===ES(t,"indexOf",!0,s)&&(r[s]=e[s],delete e[s]);return e.extra=ES("JSON","stringify",!1,r),e},n.$4=function(e){var t={},n=e.text,r=e.cta;return"object"==typeof n&&(t.text_localizations=n.localizations,e.text=n.default),null!=r&&"string"!=typeof r&&(t.cta_localizations=r.localizations,e.cta=r.default),t},e}(),a.exports=new e},null),__d("fbinstant/releases/6.3/inventory",["Promise","InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/errorCode","fbinstant/common/platform","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/internalStates","fbinstant/releases/6.3/logger","fbinstant/releases/6.3/platform"],function(e,t,n,r,a){"use strict";n={unlockItemAsync:function(e){var n="inventory_unlockItem";if(t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot unlock item until startGameAsync() resolves."}));if(t("fbinstant/releases/6.3/platform").getPlatform()===t("fbinstant/common/platform").IOS)return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Client not supported."}));t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=t("fbinstant/common/validator").object().keys({name:t("fbinstant/common/validator").string()});return r=t("fbinstant/common/validator").validate(e,r).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").INVENTORY_UNLOCK_ITEM_ASYNC,{unlockableItemConfig:e})}),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)}},a.exports=n},null),__d("fbinstant/releases/6.3/leaderboards",["Promise","fbinstant/common/errorCode","fbinstant/common/rateLimiter","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/internalStates","fbinstant/releases/6.3/logger"],function(e,t,n,r,a){"use strict";var s=new(t("fbinstant/common/rateLimiter"))(20,2e3);function o(){return s.bump()?t("Promise").resolve():t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").RATE_LIMITED,message:"Game called too many leaderboard APIs too quickly. Reduce the rate of requests in order to avoid being rate-limited."}))}var i=function(){function e(e){var t=e.id,n=e.name;e=e.contextID,this.$1=t,this.$2=n,this.$3=e}var n=e.prototype;return n.getName=function(){return this.$2},n.getContextID=function(){return this.$3},n.getEntryCountAsync=function(){var e=this,n="Leaderboard_getEntryCountAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=o().then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{leaderboard_id:e.$1,operation:"COUNT"})});return t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)},n.setScoreAsync=function(e,n){var r=this;void 0===n&&(n=null);var a="Leaderboard_setScoreAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(a);var s=t("fbinstant/common/validator").integer(),i=t("fbinstant/common/validator").string().optional();return s=t("fbinstant/common/validator").validate(e,s).then(function(){return t("fbinstant/common/validator").validate(n,i)}).then(o).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{context_id:t("fbinstant/releases/6.3/internalStates").getContext().getID(),leaderboard_id:r.$1,operation:"SET_SCORE",score:e,extra_data:n})}).then(function(e){return new l(e)}),t("fbinstant/releases/6.3/logger").logAsyncResult(s,a)},n.getPlayerEntryAsync=function(){var e=this,n="Leaderboard_getPlayerEntryAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=o().then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{leaderboard_id:e.$1,operation:"GET_ENTRY"})}).then(function(e){return e?new l(e):null});return t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)},n.getEntriesAsync=function(e,n){var r=this,a="Leaderboard_getEntriesAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(a);var s=t("fbinstant/common/validator").integer().optional(),i=t("fbinstant/common/validator").integer().optional();return s=t("fbinstant/common/validator").validate(e,s).then(function(){return t("fbinstant/common/validator").validate(n,i)}).then(o).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{leaderboard_id:r.$1,operation:"GET_ENTRIES",limit:e,offset:n})}).then(function(e){return ES(e,"map",!0,function(e){return new l(e)})}),t("fbinstant/releases/6.3/logger").logAsyncResult(s,a)},n.getConnectedPlayerEntriesAsync=function(e,n){var r=this,a="Leaderboard_getConnectedPlayerEntriesAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(a);var s=t("fbinstant/common/validator").integer().optional(),i=t("fbinstant/common/validator").integer().optional();return s=t("fbinstant/common/validator").validate(e,s).then(function(){return t("fbinstant/common/validator").validate(n,i)}).then(o).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{leaderboard_id:r.$1,operation:"GET_FRIENDS_ENTRIES",limit:e,offset:n})}).then(function(e){return ES(e,"map",!0,function(e){return new l(e)})}),t("fbinstant/releases/6.3/logger").logAsyncResult(s,a)},e}(),l=function(){function e(e){this.$1=e.score,this.$2=e.format_score,this.$5=e.rank,this.$3=e.extra_data,this.$4=e.ts,this.$6=new c(e.player.name,e.player.photo,e.player.player_id)}var t=e.prototype;return t.getScore=function(){return this.$1},t.getFormattedScore=function(){return this.$2},t.getTimestamp=function(){return this.$4},t.getRank=function(){return this.$5},t.getExtraData=function(){return this.$3},t.getPlayer=function(){return this.$6},e}(),c=function(){function e(e,t,n){this.$1=e,this.$2=n,this.$3=t}var t=e.prototype;return t.getName=function(){return this.$1},t.getPhoto=function(){return this.$3},t.getID=function(){return this.$2},e}();a.exports={getLeaderboardAsync:function(e){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("LEADERBOARD_FETCH",{name:e}).then(function(e){var t=e.id,n=e.name;return e=e.context_id,new i({id:t,name:n,contextID:e})})},sendUpdateAsync:function(e){var n,r=(n=t("fbinstant/common/validator")).object().keys({name:n.string(),text:n.string().optional()});return n.validate(e,r).then(function(e){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("LEADERBOARD_UPDATE",{context_token_id:t("fbinstant/releases/6.3/internalStates").getContext().getID(),leaderboard_name:e.name,text:e.text})}).then(function(){})},Leaderboard:i}},null),__d("InstantGamesSDKFeatures",[],function(e,t,n,r,a,s){"use strict";s.FLEXIBLE="flexible"},null),__d("fbinstant/common/consoleLogger",[],function(e,t,n,r,a){"use strict";e={init:function(e){e&&window.addEventListener("error",function(t){t={type:"error",message:t&&t.message||"",filename:t&&t.filename||null,lineno:t&&t.lineno||null,colno:t&&t.colno||null,stack:t&&t.error&&t.error.stack||null};try{t.print=ES("JSON","stringify",!1,t)}catch(e){t.print=t.message}e(t)})}},t=e,a.exports=t},null),__d("getActiveElement",[],function(e,t,n,r,a){a.exports=function(e){if(void 0===e&&(e=document),void 0===e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}},null),__d("fbinstant/common/gestureCommandManager",["getActiveElement"],function(e,t,n,r,a){"use strict";e=function(){function e(){}var n=e.prototype;return n.handleCommand=function(e){if((e=e.gesture).length){var t=e[0];switch(t){case"swipe":null!=(t=this.$1(e))&&this.$2(t)}}},n.$1=function(e){if(6!==e.length)return null;var t=parseFloat(e[1]),n=parseFloat(e[2]),r=parseFloat(e[3]),a=parseFloat(e[4]);return e=parseFloat(e[5]),isNaN(t)||t<0||t>1||isNaN(n)||n<0||n>1||isNaN(r)||r<0||r>1||isNaN(a)||a<0||a>1||isNaN(e)||e<0?null:{x1:t,y1:n,x2:r,y2:a,speed:e}},n.$2=function(e){var n=t("getActiveElement")();if(null!=n){var r=e.x1*n.clientWidth,a=e.y1*n.clientHeight,s=e.x2*n.clientWidth,o=e.y2*n.clientHeight,i=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0,clientX:r,clientY:a}),l=new MouseEvent("mousemove",{view:window,bubbles:!0,cancelable:!0,clientX:s,clientY:o}),c=new MouseEvent("mouseup",{view:window,bubbles:!0,cancelable:!0,clientX:s,clientY:o});(n=null!=(s=document.elementFromPoint(r,a))?s:n).dispatchEvent(i),function(t){window.setTimeout(function(){t.dispatchEvent(l),t.dispatchEvent(c)},1e3*e.speed)}(n)}},e}(),n=new e,a.exports=n},null),__d("fbinstant/common/performanceTracker",[],function(e,t,n,r,a){"use strict";t=new(function(){function e(){}return e.prototype.init=function(){},e}()),a.exports=t},null),__d("fbinstant/releases/6.3/heartbeat",["fbinstant/releases/6.3/internalStates"],function(e,t,n,r,a){"use strict";e={_heartbeatInterval:null,startHeartbeat:function(){var e=this;this._heartbeatInterval&&this.stopHeartbeat(),this.sendHeartbeat("start"),this._heartbeatInterval=window.setInterval(function(){e.sendHeartbeat("update")},6e4)},stopHeartbeat:function(){window.clearInterval(this._heartbeatInterval),this._heartbeatInterval=null,this.sendHeartbeat("end")},sendHeartbeat:function(e){t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("HEARTBEAT",{action:e,contextID:t("fbinstant/releases/6.3/internalStates").getContext().getID()})}},a.exports=e},null),__d("fbinstant/releases/6.3/messageConfig",[],function(e,t,n,r,a){"use strict";e={getConfig:function(){if(window.QuicksilverAndroid)return{sender:window.QuicksilverAndroid,source:"Android"};if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.quicksilver)return{sender:window.webkit.messageHandlers.quicksilver||parent,source:"iOS"};var e=new RegExp("[?&]source(=([^&#]*)|&|#|$)","i");return e=e.exec(window.location.href),{sender:parent,source:e&&e[2]&&decodeURIComponent(e[2].replace(/\+/g," "))}}},a.exports=e},null),__d("fbinstant/releases/6.3/messageReceiver",[],function(e,t,n,r,a){"use strict";e=function(){function e(){this.$1=null}var t=e.prototype;return t.$2=function(e){if(e.data&&e.data.source){var t=e.data.type;t&&(t=this.$1&&this.$1[t])&&t(e.data.content)}},t.init=function(){this.$1={},window.addEventListener("message",ES(this.$2,"bind",!0,this))},t.registerMessageHandler=function(e,t,n){var r=this.$1;r&&(r[e]=n?ES(t.triggerSubscribers,"bind",!0,t,n):ES(t.triggerSubscribers,"bind",!0,t))},e}(),a.exports=new e},null),__d("fbinstant/releases/6.3/lifecycle",["Promise","InstantGamesGameState","InstantGamesSDKFeatures","InstantGamesSDKMessages","fbinstant/common/consoleLogger","fbinstant/common/errorCode","fbinstant/common/gestureCommandManager","fbinstant/common/performanceTracker","fbinstant/common/supportedFeaturesManager","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/entryPoint","fbinstant/releases/6.3/heartbeat","fbinstant/releases/6.3/internalStates","fbinstant/releases/6.3/messageConfig","fbinstant/releases/6.3/messageReceiver"],function(e,t,n,r,a){"use strict";function s(e){var n=null;return new(t("Promise"))(function(r){t("fbinstant/releases/6.3/internalStates").getGameStartEvent().on(r),e.send(t("InstantGamesSDKMessages").ON_GAME_READY),n=function(e){return t("fbinstant/releases/6.3/internalStates").getGameStartEvent().off(r),e}}).then(n)}function o(e){t("fbinstant/releases/6.3/internalStates").updateContext(e),e.playerName&&t("fbinstant/releases/6.3/internalStates").setPlayerName(e.playerName),e.playerPhoto&&t("fbinstant/releases/6.3/internalStates").setPlayerPhoto(e.playerPhoto),e.locale&&t("fbinstant/releases/6.3/internalStates").setLocale(e.locale);var n=null;if(e.entryPointData)try{var r=ES("JSON","parse",!1,e.entryPointData);n=r.sender&&r.data?r.data:r}catch(e){}r=null,e.entryPoint&&(r=e.entryPoint),t("fbinstant/releases/6.3/internalStates").updateEntryPoint(new(t("fbinstant/releases/6.3/entryPoint"))(r,n))}e={initializeAsync:function(e){var n,r,a;return e.initialize(t("fbinstant/releases/6.3/messageConfig").getConfig()),e.send((n=t("InstantGamesSDKMessages")).ON_BEGIN_LOAD,100),t("fbinstant/common/consoleLogger").init(function(n){e.send(t("InstantGamesSDKMessages").ON_CONSOLE,n)}),(r=t("fbinstant/releases/6.3/messageReceiver")).init(),r.registerMessageHandler(n.RESTART,(a=t("fbinstant/releases/6.3/internalStates")).getRestartEvent(),null),r.registerMessageHandler(n.RESOLVE_PROMISE,e.getResolvePromiseEvent(),null),r.registerMessageHandler(n.REJECT_PROMISE,e.getRejectPromiseEvent(),null),r.registerMessageHandler(n.PAUSE,a.getPauseEvent(),null),r.registerMessageHandler(n.RESUME,a.getResumeEvent(),null),r.registerMessageHandler(n.ANALYTICS_LOG_EVENT,a.getAnalyticsLogEvent(),null),r.registerMessageHandler(n.REALTIME_RECEIVE_MESSAGE,a.getReceiveMessageEvent(),null),r.registerMessageHandler(n.REALTIME_RECEIVE_STATE_UPDATE,a.getReceiveStateUpdateEvent(),null),a.getGameStartEvent().on(function(){t("fbinstant/releases/6.3/internalStates").setGameState(t("InstantGamesGameState").PLAYING)}),r.registerMessageHandler(n.GAME_START,a.getGameStartEvent(),null),r.registerMessageHandler(n.PAYMENTS_INITIALIZED,a.getPaymentsState().getPaymentsInitializedEvent(),null),a.getGestureCommandEvent().on(function(e){t("fbinstant/common/gestureCommandManager").handleCommand(e)}),r.registerMessageHandler(n.GESTURE_COMMAND,a.getGestureCommandEvent(),null),e.sendAsync(n.INITIALIZE_ASYNC,{sdkVersion:a.getSdkVersion()}).then(function(e){t("fbinstant/releases/6.3/internalStates").isInitialized()||t("fbinstant/releases/6.3/internalStates").initialize(e)})},startGameAsync:function(e){return t("fbinstant/releases/6.3/internalStates").getGameState()===t("InstantGamesGameState").PLAYING?t("Promise").resolve():t("fbinstant/releases/6.3/internalStates").isInitialized()?t("fbinstant/common/supportedFeaturesManager").isSupported(t("InstantGamesSDKFeatures").FLEXIBLE)?(t("fbinstant/common/performanceTracker").init(e),t("fbinstant/releases/6.3/internalStates").setLoadingProgress(100),s(e).then(function(n){return t("fbinstant/releases/6.3/internalStates").setGameState(t("InstantGamesGameState").PLAYING),n&&o(n),e.sendPassThroughAsync("APP_CUSTOM_EVENT",{contextID:t("fbinstant/releases/6.3/internalStates").getContext().getID()})}).then(function(n){n&&n.shouldPromptTournamentStatus&&e.showGenericDialogAsync("tournament_status",n.args),t("fbinstant/releases/6.3/heartbeat").startHeartbeat()})):t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"The client does not support Instant Games."})):t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"The SDK has not been initialized yet. Please wait for FBInstant.initializeAsync to resolve before calling this API."}))},setLoadingProgress:function(e,n){n>=0&&n<=100&&n>t("fbinstant/releases/6.3/internalStates").getLoadingProgress()?(e.send(t("InstantGamesSDKMessages").ON_PROGRESS_LOAD,n),t("fbinstant/releases/6.3/internalStates").setLoadingProgress(n)):(e="FbInstant::setLoadingProgress(",e=") is invalid. The progress must be",n<0||n>100||t("fbinstant/releases/6.3/internalStates").getLoadingProgress())},quit:function(e){e.send(t("InstantGamesSDKMessages").QUIT,{}),t("fbinstant/releases/6.3/heartbeat").stopHeartbeat()}},a.exports=e},null),__d("fbinstant/releases/6.3/payments",["Promise","InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/errorCode","fbinstant/common/supportedMessagesManager","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/internalStates","fbinstant/releases/6.3/logger"],function(e,t,n,r,a,s){"use strict";function s(e){var n="payments_consumePurchaseAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=t("fbinstant/common/validator").string();return r=t("fbinstant/common/validator").validate(e,r).then(function(){return o(t("InstantGamesSDKMessages").PAYMENTS_CONSUME_PURCHASE_ASYNC)}).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").PAYMENTS_CONSUME_PURCHASE_ASYNC,{token:e})}),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n).then(function(){})}function o(e){return t("fbinstant/common/supportedMessagesManager").isSupported(e)?t("Promise").resolve():t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support this API"}))}s={consumePurchaseAsync:s,getCatalogAsync:function(){var e="payments_getCatalogAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=o(t("InstantGamesSDKMessages").PAYMENTS_FETCH_CATALOG_ASYNC).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").PAYMENTS_FETCH_CATALOG_ASYNC,{})});return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e)},getPurchasesAsync:function(){var e="payments_getPurchasesAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=o(t("InstantGamesSDKMessages").PAYMENTS_FETCH_PURCHASES_ASYNC).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").PAYMENTS_FETCH_PURCHASES_ASYNC,{})});return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e)},purchaseAsync:function(e){var n="payments_purchaseAsync";if(t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot purchase until startGameAsync() resolves."}));t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=t("fbinstant/common/validator").object().keys({productID:t("fbinstant/common/validator").string(),developerPayload:t("fbinstant/common/validator").string().optional()});return r=t("fbinstant/common/validator").validate(e,r).then(function(){return o(t("InstantGamesSDKMessages").PAYMENTS_PURCHASE_ASYNC)}).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").PAYMENTS_PURCHASE_ASYNC,{config:e})}),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)},onReady:function(e){t("fbinstant/releases/6.3/internalStates").getPaymentsState().onInitialized(e)},restorePurchasesAsync:function(){var e="payments_restorePurchasesAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=o(t("InstantGamesSDKMessages").PAYMENTS_RESTORE_PURCHASES_ASYNC).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").PAYMENTS_RESTORE_PURCHASES_ASYNC,{})});return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e).then(function(){})}},a.exports=s},null),__d("fbinstant/common/dataAccessRecorder",[],function(e,t,n,r,a){"use strict";a.exports=function(e,t,n,r){void 0===r&&(r={}),n=e+"_"+n,Object.prototype.hasOwnProperty.call(s,n)||(s[n]=!0,t.sendPassThroughAsync(e,r))};var s={}},null),__d("fbinstant/releases/6.3/auth",["InstantGamesSDKMessages","fbinstant/releases/6.3/internalStates"],function(e,t,n,r,a){"use strict";var s=function(){function e(e){this.$1=e}var t=e.prototype;return t.getPlayerID=function(){return this.$1.playerID},t.getSignature=function(){return this.$1.signature},e}();a.exports={SignedPlayerInfo:s,getSignedPlayerInfoAsync:function(e){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").GET_SIGNED_PLAYER_INFO_ASYNC,{requestPayload:e||null}).then(function(e){return new s(e)})}}},null),__d("fbinstant/releases/6.3/botSubscription",["Promise","InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/errorCode","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/internalStates"],function(e,t,n,r,a){"use strict";var s=0,o=null;a.exports={canSubscribeBotAsync:function(){return s>=1?(o=!1,t("Promise").resolve(!1)):null!=o?t("Promise").resolve(o):t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("PLAYER_CAN_SUBSCRIBE_GAME_BOT",{contextID:t("fbinstant/releases/6.3/internalStates").getContext().getID()}).then(function(e){return o=e,e})},subscribeBotAsync:function(){return t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING?t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot perform this operation before the game has started."})):s>=1?t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Player can only see the subscription dialog once per session."})):null==o?t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot directly use subscribeBotAsync(). Please check canSubscribeBotAsync() before calling this API."})):o?(o=null,s+=1,t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").SUBSCRIBE_BOT_ASYNC)):t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot use subscribeBotAsync() to the player. Please check canSubscribeBotAsync() before calling this API."}))}}},null),__d("fbinstant/releases/6.3/playerStats",["Promise","fbinstant/common/errorCode","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/internalStates"],function(e,t,n,r,a){"use strict";e=function(){function e(){this.$1=!1}var n=e.prototype;return n.getAsync=function(e){var n=this;if(!e)return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("GET_PLAYER_STATS",{});var r=t("fbinstant/common/validator").array().schemaType(t("fbinstant/common/validator").string());return t("fbinstant/common/validator").validate(e,r).then(function(){return n.$2(),t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("GET_PLAYER_STATS",{stat_keys:e})})},n.setAsync=function(e){var n=this;return t("fbinstant/common/validator").validate(e,t("fbinstant/common/validator").object()).then(function(){return t("Promise").all(ES(ES("Object","keys",!1,e),"map",!0,function(n){return t("fbinstant/common/validator").validate(e[n],t("fbinstant/common/validator").integer())}))}).then(function(){return n.$3(),t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("SET_PLAYER_STATS",{stats:e}).then(function(e){return n.$4(),e}).catch(function(e){throw n.$4(),e})})},n.incrementAsync=function(e){var n=this;return t("fbinstant/common/validator").validate(e,t("fbinstant/common/validator").object()).then(function(){return t("Promise").all(ES(ES("Object","keys",!1,e),"map",!0,function(n){return t("fbinstant/common/validator").validate(e[n],t("fbinstant/common/validator").integer())}))}).then(function(){return n.$3(),t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("INCREMENT_PLAYER_STATS",{increments:e}).then(function(e){return n.$4(),e}).catch(function(e){throw n.$4(),e})})},n.$2=function(){if(this.$1)throw new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").PENDING_REQUEST,message:"A set or increment stats request is pending, please wait for it to resolve or reject before making another stats request."})},n.$3=function(){this.$2(),this.$1=!0},n.$4=function(){this.$1=!1},e}(),a.exports=new e},null),__d("fbinstant/releases/6.3/player",["Promise","InstantGamesSDKMessages","fbinstant/common/connectedPlayers","fbinstant/common/dataAccessRecorder","fbinstant/common/errorCode","fbinstant/common/validator","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/auth","fbinstant/releases/6.3/botSubscription","fbinstant/releases/6.3/internalStates","fbinstant/releases/6.3/logger","fbinstant/releases/6.3/playerStats"],function(e,t,n,r,a){"use strict";e={getID:function(){t("fbinstant/releases/6.3/logger").logAPICall("player_getID");var e=t("fbinstant/releases/6.3/internalStates").getPlayerID();return e&&t("fbinstant/common/dataAccessRecorder")("RECORD_GET_PLAYER_ID",t("fbinstant/releases/6.3/internalStates").getMessageSender(),e),e},getSignedPlayerInfoAsync:function(e){var n="player_getSignedPlayerInfoAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=t("fbinstant/common/validator").string().optional();return r=t("fbinstant/common/validator").validate(e,r).then(function(){return t("fbinstant/releases/6.3/auth").getSignedPlayerInfoAsync(e)}),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)},canSubscribeBotAsync:function(){var e="getPlayerCanSubscribeBotAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/botSubscription").canSubscribeBotAsync();return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e)},subscribeBotAsync:function(){var e="subscribeBotAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/botSubscription").subscribeBotAsync();return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e)},getName:function(){return t("fbinstant/releases/6.3/logger").logAPICall("player_getName"),t("fbinstant/releases/6.3/internalStates").getPlayerName()},getPhoto:function(){return t("fbinstant/releases/6.3/logger").logAPICall("player_getPhoto"),t("fbinstant/releases/6.3/internalStates").getPlayerPhoto()},getDataAsync:function(e){var n="player_getDataAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=t("fbinstant/common/validator").array().schemaType(t("fbinstant/common/validator").string());return r=t("fbinstant/common/validator").validate(e,r).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").GET_PLAYER_DATA_ASYNC,{keys:e})}),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)},setDataAsync:function(e){var n="player_setDataAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=function(e){for(var t=ES("Object","keys",!1,e),n=0;n<t.length;n++){var r=t[n];if("function"==typeof(r=e[r]))return!0}return!1},a=function(e){try{return ES("JSON","stringify",!1,e),!1}catch(e){return!0}},s=t("fbinstant/common/validator").validate(e,t("fbinstant/common/validator").object()).then(function(e){return r(e)||a(e)?(t("fbinstant/releases/6.3/logger").logReject(n,t("fbinstant/common/errorCode").INVALID_PARAM),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"Object is not serializable"}))):e}).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").SET_PLAYER_DATA_ASYNC,{data:e})});return t("fbinstant/releases/6.3/logger").logAsyncResult(s,n).then(function(){})},flushDataAsync:function(){var e="player_flushDataAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").FLUSH_PLAYER_DATA_ASYNC,null);return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e).then(function(){})},getStatsAsync:function(e){var n="player_getStatsAsync";return t("fbinstant/releases/6.3/logger").logBeginAsync(n),e=t("fbinstant/releases/6.3/playerStats").getAsync(e),t("fbinstant/releases/6.3/logger").logAsyncResult(e,n)},setStatsAsync:function(e){var n="player_setStatsAsync";return t("fbinstant/releases/6.3/logger").logBeginAsync(n),e=t("fbinstant/releases/6.3/playerStats").setAsync(e),t("fbinstant/releases/6.3/logger").logAsyncResult(e,n).then(function(){})},incrementStatsAsync:function(e){var n="player_incrementStatsAsync";return t("fbinstant/releases/6.3/logger").logBeginAsync(n),e=t("fbinstant/releases/6.3/playerStats").incrementAsync(e),t("fbinstant/releases/6.3/logger").logAsyncResult(e,n)},getConnectedPlayersAsync:function(){var e="player_getConnectedPlayers",n=t("fbinstant/releases/6.3/internalStates").getConnectedPlayersPromise();return n||(t("fbinstant/releases/6.3/logger").logBeginAsync(e),n=t("fbinstant/releases/6.3/logger").logAsyncResult(t("fbinstant/common/connectedPlayers").fetchAsync(t("fbinstant/releases/6.3/internalStates").getMessageSender()),e).catch(function(e){throw t("fbinstant/releases/6.3/internalStates").setConnectedPlayersPromise(null),e}),t("fbinstant/releases/6.3/internalStates").setConnectedPlayersPromise(n),n)}},a.exports=e},null),__d("fbinstant/releases/6.3/supportedFunctions",["InstantGamesSDKFeatures","InstantGamesSDKMessages","fbinstant/common/supportedFeaturesManager","fbinstant/common/supportedMessagesManager"],function(e,t,n,r,a){"use strict";var s=new Set(["getLocale","getPlatform","getSDKVersion","getSupportedAPIs","getEntryPointData","player.getID","player.getName","player.getPhoto","context.getID","context.getType","context.isSizeBetween","logEvent","onPause"]),o={"inventory.unlockItemAsync":(n=t("InstantGamesSDKMessages")).INVENTORY_UNLOCK_ITEM_ASYNC,matchPlayerAsync:n.MATCH_PLAYER_ASYNC,initializeAsync:n.INITIALIZE_ASYNC,setLoadingProgress:n.ON_PROGRESS_LOAD,setSessionData:n.SET_SESSION_DATA,startGameAsync:n.ON_GAME_READY,"player.flushDataAsync":n.FLUSH_PLAYER_DATA_ASYNC,"player.getDataAsync":n.GET_PLAYER_DATA_ASYNC,"player.setDataAsync":n.SET_PLAYER_DATA_ASYNC,"player.subscribeBotAsync":n.SUBSCRIBE_BOT_ASYNC,"player.getConnectedPlayersAsync":n.GET_CONNECTED_PLAYERS_ASYNC,"player.getSignedPlayerInfoAsync":n.GET_SIGNED_PLAYER_INFO_ASYNC,"context.switchAsync":n.CONTEXT_SWITCH_ASYNC,"context.chooseAsync":n.CONTEXT_CHOOSE_ASYNC,"context.createAsync":n.CONTEXT_CREATE_ASYNC,"context.getPlayersAsync":n.CONTEXT_PLAYERS_FETCH_ASYNC,getInterstitialAdAsync:n.GET_INTERSTITIAL_AD_ASYNC,getRewardedVideoAsync:n.GET_REWARDED_VIDEO_ASYNC,"payments.consumePurchaseAsync":n.PAYMENTS_CONSUME_PURCHASE_ASYNC,"payments.getCatalogAsync":n.PAYMENTS_FETCH_CATALOG_ASYNC,"payments.getPurchasesAsync":n.PAYMENTS_FETCH_PURCHASES_ASYNC,"payments.purchaseAsync":n.PAYMENTS_PURCHASE_ASYNC,shareAsync:n.SHARE_ASYNC,switchGameAsync:n.GAME_SWITCH,quit:n.QUIT,canCreateShortcutAsync:n.CAN_CREATE_SHORTCUT_ASYNC,createShortcutAsync:n.CREATE_SHORTCUT_ASYNC},i=new Set(["getEntryPointAsync","getLeaderboardAsync","checkCanPlayerMatchAsync","player.canSubscribeBotAsync","player.getStatsAsync","player.setStatsAsync","player.incrementStatsAsync","postSessionScore"]),l={updateAsync:function(){return t("fbinstant/common/supportedFeaturesManager").isSupported(t("InstantGamesSDKFeatures").FLEXIBLE)}};function c(){var e=new Set;for(var n in o){var r=o[n];t("fbinstant/common/supportedMessagesManager").isSupported(r)&&e.add(n)}return d(e)}function u(){return t("fbinstant/common/supportedMessagesManager").isSupported(t("InstantGamesSDKMessages").SEND_PASS_THROUGH_ASYNC)?d(i):[]}function f(){var e=new Set;for(var t in l)l[t]()&&e.add(t);return d(e)}function m(){var e=c(),t=new Set;return-1!==ES(e,"indexOf",!0,"payments.purchaseAsync")&&t.add("payments.onReady"),d(t)}function d(e){var t=[];return ES(e,"forEach",!0,function(e){t.push(e)}),t}r={getSupported:function(){var e=c(),t=u(),n=f(),r=m();return d(s).concat(e).concat(t).concat(n).concat(r)}},a.exports=r},null),__d("fbinstant/releases/6.3",["Promise","InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/appCapabilityFetcher","fbinstant/common/errorCode","fbinstant/common/platform","fbinstant/common/score","fbinstant/common/validator","fbinstant/releases/6.3/ads","fbinstant/releases/6.3/apiError","fbinstant/releases/6.3/context","fbinstant/releases/6.3/endGamePayload","fbinstant/releases/6.3/internalStates","fbinstant/releases/6.3/inventory","fbinstant/releases/6.3/leaderboards","fbinstant/releases/6.3/lifecycle","fbinstant/releases/6.3/logger","fbinstant/releases/6.3/payments","fbinstant/releases/6.3/platform","fbinstant/releases/6.3/player","fbinstant/releases/6.3/supportedFunctions"],function(e,t,n,r,a){"use strict";e={getLocale:function(){return t("fbinstant/releases/6.3/logger").logAPICall("getLocale"),t("fbinstant/releases/6.3/internalStates").getLocale()||"en_US"},getPlatform:function(){return t("fbinstant/releases/6.3/logger").logAPICall("getPlatform"),t("fbinstant/releases/6.3/internalStates").isInitialized()?t("fbinstant/releases/6.3/platform").getPlatform():null},getSDKVersion:function(){return t("fbinstant/releases/6.3/logger").logAPICall("getSDKVersion"),t("fbinstant/releases/6.3/internalStates").getSdkVersion()},initializeAsync:function(){var e="initializeAsync";if(t("fbinstant/releases/6.3/internalStates").isInitialized())return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Game has already been initialized."}));t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/internalStates").getMessageSender();return n=t("fbinstant/releases/6.3/lifecycle").initializeAsync(n),t("fbinstant/releases/6.3/logger").logAsyncResult(n,e).then(function(){t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("QE_PARAM_NO_EXPOSURE_FETCH",{}).then(function(e){t("fbinstant/releases/6.3/internalStates").setQEParams(e)}).catch()})},setLoadingProgress:function(e){t("fbinstant/releases/6.3/logger").logAPICall("setLoadingProgress"),t("fbinstant/releases/6.3/lifecycle").setLoadingProgress(t("fbinstant/releases/6.3/internalStates").getMessageSender(),e)},getSupportedAPIs:function(){return t("fbinstant/releases/6.3/logger").logAPICall("getSupportedAPIs"),t("fbinstant/releases/6.3/supportedFunctions").getSupported()},getEntryPointData:function(){return t("fbinstant/releases/6.3/logger").logAPICall("getEntryPointData"),t("fbinstant/releases/6.3/internalStates").getEntryPoint().getData()},getEntryPointAsync:function(){var e="getEntryPointAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/internalStates").getEntryPoint().getCanonicalEntryPointAsync(t("fbinstant/releases/6.3/internalStates").getMessageSender());return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e)},setSessionData:function(e){t("fbinstant/releases/6.3/logger").logAPICall("setSessionData");var n=e;t("fbinstant/common/validator").validate(n,t("fbinstant/common/validator").object().maxSize(1e3)).then(function(){t("fbinstant/releases/6.3/internalStates").getMessageSender().send(t("InstantGamesSDKMessages").SET_SESSION_DATA,ES("JSON","stringify",!1,n))})},startGameAsync:function(){var e="startGameAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/lifecycle").startGameAsync(t("fbinstant/releases/6.3/internalStates").getMessageSender());return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e).then(function(){})},player:t("fbinstant/releases/6.3/player"),context:t("fbinstant/releases/6.3/context"),payments:t("fbinstant/releases/6.3/payments"),inventory:t("fbinstant/releases/6.3/inventory"),shareAsync:function(e){var n,r="shareAsync";return n=(n=t("fbinstant/common/validator")).object().keys({intent:n.string(),image:n.string(),media:n.object().keys({gif:n.object().keys({url:n.string()}).optional(),video:n.object().keys({url:n.string()}).optional()}).optional(),text:n.string(),data:n.object().optional().maxSize(1e3),surface:n.string().optional()}),t("fbinstant/releases/6.3/logger").logBeginAsync(r),t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING?(t("fbinstant/releases/6.3/logger").logReject(r,t("fbinstant/common/errorCode").INVALID_OPERATION),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))):(n=t("fbinstant/common/validator").validate(e,n).then(function(){return null!=e.media?t("fbinstant/common/appCapabilityFetcher").fetchAsync(t("fbinstant/releases/6.3/internalStates").getMessageSender(),"IGVS").then(function(e){return e?t("Promise").resolve():t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"The share content provided is not supported"}))}):t("Promise").resolve()}).then(function(){var n=babelHelpers.extends({},e);return n.data=ES("JSON","stringify",!1,e.data),t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").SHARE_ASYNC,n)}),t("fbinstant/releases/6.3/logger").logAsyncResult(n,r).then(function(){}))},updateAsync:function(e){var n="updateAsync";if("LEADERBOARD"===e.action){var r=e;return t("fbinstant/releases/6.3/logger").logBeginAsync(n),r=t("fbinstant/releases/6.3/leaderboards").sendUpdateAsync(r),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)}if("CUSTOM"===e.action){var a=e;return r=null!=a.media,t("fbinstant/releases/6.3/logger").logBeginAsync(n),r?(e=t("fbinstant/releases/6.3/endGamePayload").format(a).then(function(e){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("UPDATE",{formatted_payload:e,context_token_id:t("fbinstant/releases/6.3/internalStates").getContext().getID()}).then(function(){})}),t("fbinstant/releases/6.3/logger").logAsyncResult(e,n)):new(t("Promise"))(function(e,r){t("fbinstant/releases/6.3/endGamePayload").format(a).then(function(a){t("fbinstant/releases/6.3/internalStates").getMessageSender().send(t("InstantGamesSDKMessages").ON_END_GAME,a),t("fbinstant/releases/6.3/internalStates").getRestartEvent().on(function(a){if(a&&a.error)return t("fbinstant/releases/6.3/logger").logReject(n),void r(new(t("fbinstant/releases/6.3/apiError"))({code:a.error.code,message:a.error.message}));a&&a.contextType&&t("fbinstant/releases/6.3/internalStates").updateContext(a),t("fbinstant/releases/6.3/logger").logResolve(n),e(),t("fbinstant/releases/6.3/internalStates").getRestartEvent().unbind()})}).catch(function(e){r(e)})})}return t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:'Invalid update action. Must be "CUSTOM" or "LEADERBOARD".'}))},switchGameAsync:function(e,n){var r="switchGameAsync";if(t("fbinstant/releases/6.3/logger").logBeginAsync(r),t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("fbinstant/releases/6.3/logger").logReject(r,t("fbinstant/common/errorCode").INVALID_OPERATION),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));var a=t("fbinstant/common/validator").validate(e,t("fbinstant/common/validator").string()).then(function(){return t("fbinstant/common/validator").validate(n,t("fbinstant/common/validator").object().optional().maxSize(1e3))}).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("SWITCH_GAME",{app_id:e})}).then(function(){var r={app_id:e,payload:null!=n?ES("JSON","stringify",!1,n):null};return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").GAME_SWITCH,r)});return t("fbinstant/releases/6.3/logger").logAsyncResult(a,r)},canCreateShortcutAsync:function(){var e="canCreateShortcutAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").CAN_CREATE_SHORTCUT_ASYNC,null);return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e).then(function(e){return e.canCreateShortcut}).catch(function(){return!1})},createShortcutAsync:function(){var e="createShortcutAsync";if(t("fbinstant/releases/6.3/logger").logBeginAsync(e),t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("fbinstant/releases/6.3/logger").logReject(e,t("fbinstant/common/errorCode").INVALID_OPERATION),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));var n=t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").CREATE_SHORTCUT_ASYNC,null);return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e)},quit:function(){t("fbinstant/releases/6.3/logger").logAPICall("quit"),t("fbinstant/releases/6.3/lifecycle").quit(t("fbinstant/releases/6.3/internalStates").getMessageSender())},logEvent:function(e,n,r){return(e=t("fbinstant/releases/6.3/internalStates").getAnalytics().logEvent(e,n,r))?new(t("fbinstant/releases/6.3/apiError"))({code:e.code,message:e.message}):null},onPause:function(e){t("fbinstant/releases/6.3/logger").logAPICall("onPause"),t("fbinstant/releases/6.3/internalStates").getPauseEvent().on(e)},getInterstitialAdAsync:function(e){var n="getInterstitialAdAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=t("fbinstant/common/validator").string();return r=t("fbinstant/common/validator").validate(e,r).then(function(){return t("fbinstant/releases/6.3/ads").getInterstitialAdAsync(e)}),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)},getRewardedVideoAsync:function(e){var n="getRewardedVideoAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=t("fbinstant/common/validator").string();return r=t("fbinstant/common/validator").validate(e,r).then(function(){return t("fbinstant/releases/6.3/ads").getRewardedVideoAsync(e)}),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)},matchPlayerAsync:function(e,n,r){var a="matchPlayerAsync",s=t("fbinstant/releases/6.3/internalStates").getMatchPlayerPromise();if(s)return s;if(t("fbinstant/releases/6.3/logger").logBeginAsync(a),t("fbinstant/releases/6.3/internalStates").getGameState()!==t("InstantGamesGameState").PLAYING)return t("fbinstant/releases/6.3/logger").logReject(a,t("fbinstant/common/errorCode").INVALID_OPERATION),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));var o={};return o.matchTag=e||null,o.switchContextWhenMatched=t("fbinstant/releases/6.3/platform").getPlatform()===t("fbinstant/common/platform").IOS||n||!1,o.offlineMatch=r||!1,s=/^[a-zA-Z0-9_]+$/,o.matchTag&&-1===o.matchTag.search(s)?(t("fbinstant/releases/6.3/logger").logReject(a),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"Match Tag must only include letters, numbers and underscores."}))):o.matchTag&&o.matchTag.length>100?(t("fbinstant/releases/6.3/logger").logReject(a),t("Promise").reject(new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_PARAM,message:"Match Tag must be 100 characters or less."}))):(e=t("fbinstant/common/validator").object().keys({matchTag:t("fbinstant/common/validator").string().optional(),switchContextWhenMatched:t("fbinstant/common/validator").boolean(),offlineMatch:t("fbinstant/common/validator").boolean()}),n=t("fbinstant/common/validator").validate(o,e).then(function(){return t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("CAN_PLAYER_MATCH",{contextID:t("fbinstant/releases/6.3/internalStates").getContext().getID(),offlineMatch:r})}).then(function(e){if(!e.can_match)throw new(t("fbinstant/releases/6.3/apiError"))({code:t("fbinstant/common/errorCode").INVALID_OPERATION,message:"The player is not currently eligible to match."});return o.dialogTitle=e.dialog_title,o.dialogTextLineOne=e.dialog_text_line_one,o.dialogTextLineTwo=e.dialog_text_line_two,o.dialogButtonText=e.dialog_button_text,o.bannerSearchText=e.banner_search_text,o.bannerRetryText=e.banner_retry_text,o.bannerMatchFoundText=e.banner_match_found_text,o.bannerUserAlreadyInThreadText=e.banner_user_already_in_thread_text,o.useV2=e.use_v2||!1,t("fbinstant/releases/6.3/internalStates").getMessageSender().sendAsync(t("InstantGamesSDKMessages").MATCH_PLAYER_ASYNC,o)}).then(function(e){t("fbinstant/releases/6.3/internalStates").updateContext(e),t("fbinstant/releases/6.3/internalStates").setMatchPlayerPromise(null)}).catch(function(e){throw t("fbinstant/releases/6.3/internalStates").setMatchPlayerPromise(null),e}),n=t("fbinstant/releases/6.3/logger").logAsyncResult(n,a),t("fbinstant/releases/6.3/internalStates").setMatchPlayerPromise(n),n)},checkCanPlayerMatchAsync:function(){var e="checkCanPlayerMatchAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(e);var n=t("fbinstant/releases/6.3/internalStates").getMessageSender().sendPassThroughAsync("CAN_PLAYER_MATCH",{contextID:t("fbinstant/releases/6.3/internalStates").getContext().getID()}).then(function(e){return e.can_match});return t("fbinstant/releases/6.3/logger").logAsyncResult(n,e)},getLeaderboardAsync:function(e){var n="getLeaderboardAsync";t("fbinstant/releases/6.3/logger").logBeginAsync(n);var r=t("fbinstant/common/validator").string();return r=t("fbinstant/common/validator").validate(e,r).then(function(){return t("fbinstant/releases/6.3/leaderboards").getLeaderboardAsync(e)}),t("fbinstant/releases/6.3/logger").logAsyncResult(r,n)},postSessionScore:function(e){t("fbinstant/releases/6.3/logger").logAPICall("postSessionScore"),t("fbinstant/common/score").PostSessionScore(t("fbinstant/releases/6.3/internalStates").getMessageSender(),e,t("fbinstant/releases/6.3/internalStates").getContext().getID()).then(function(e){e.contextType&&t("fbinstant/releases/6.3/internalStates").updateContext(e)})}},a.exports=e},null),__d("legacy:fbinstant.6.3.all",["fbinstant/releases/6.3"],function(e,t){"use strict";window.FBInstant=t("fbinstant/releases/6.3")},3)}}).call(global)}(window.inDapIF?parent.window:window,window)}catch(e){(new Image).src="https://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"1003094079","namespace":"FB","message":"'+e.message+'"}}')}